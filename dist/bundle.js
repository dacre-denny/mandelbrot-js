!function(n){var e={};function t(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return n[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=n,t.c=e,t.d=function(n,e,o){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:o})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var r in n)t.d(o,r,function(e){return n[e]}.bind(null,r));return o},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=5)}([function(n,e,t){var o=t(1);"string"==typeof o&&(o=[[n.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};t(3)(o,r);o.locals&&(n.exports=o.locals)},function(n,e,t){(n.exports=t(2)(!1)).push([n.i,'body {\n  width: 100vw;\n  height: 100vh;\n  position: fixed;\n  font-family: Arial, Helvetica, sans-serif; }\n\ncanvas {\n  width: 100vw;\n  height: 100vh;\n  display: block;\n  position: fixed;\n  top: 0;\n  left: 0; }\n\nform {\n  position: fixed;\n  top: 1rem;\n  right: 1rem;\n  z-index: 1;\n  background: #151515;\n  border-radius: 0.2rem;\n  padding: 0.5rem;\n  text-align: center;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none; }\n  form div {\n    margin-top: 1rem;\n    margin-bottom: 0.5rem;\n    position: relative; }\n\nh1 {\n  font-size: 1rem;\n  color: #eee;\n  font-size: 0.7rem;\n  font-weight: bold;\n  text-transform: uppercase; }\n\na {\n  color: #4c4c4c;\n  margin: 0 0.25rem;\n  text-decoration: none;\n  font-size: 0.55rem;\n  font-weight: bold;\n  text-transform: uppercase; }\n  a:hover {\n    text-decoration: underline; }\n\nlabel {\n  color: #4c4c4c;\n  display: block;\n  margin-bottom: 0.5rem;\n  text-align: left;\n  font-size: 0.55rem;\n  font-weight: bold;\n  text-transform: uppercase; }\n  label + span {\n    position: absolute;\n    top: 0;\n    right: 0;\n    font-size: 0.65rem;\n    font-weight: bold;\n    color: #eee; }\n\ninput {\n  outline: none;\n  cursor: pointer; }\n  input[type="range"] {\n    margin: 0;\n    width: 100%;\n    -webkit-appearance: none; }\n    input[type="range"]::-webkit-slider-thumb {\n      -webkit-appearance: none;\n      height: 1rem;\n      width: 0.75rem;\n      background: #ffeb00;\n      border-radius: 0.1rem; }\n    input[type="range"]::-webkit-slider-runnable-track {\n      background: #080808;\n      height: 1rem; }\n  input[type="button"] {\n    border-radius: 0.1rem;\n    background: #222222;\n    color: #eee;\n    padding: 0.25rem 1rem;\n    border: none;\n    font-size: 0.7rem;\n    font-weight: bold;\n    text-transform: uppercase; }\n  input.toggled {\n    background: #ffeb00;\n    color: #4c4c4c; }\n  input:hover {\n    opacity: 0.7; }\n\nnav {\n  position: fixed;\n  bottom: 1rem;\n  right: 1rem;\n  left: 1rem;\n  z-index: 1;\n  text-align: center;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none; }\n  nav button {\n    padding: 0;\n    border: none;\n    display: inline-block;\n    border-radius: 50%;\n    overflow: hidden;\n    margin: 0 0.5rem;\n    border: 0.2rem solid #151515;\n    outline: none;\n    cursor: pointer; }\n    nav button img {\n      width: 5rem;\n      height: 5rem;\n      display: block; }\n    nav button:hover {\n      opacity: 0.7; }\n',""])},function(n,e){n.exports=function(n){var e=[];return e.toString=function(){return this.map(function(e){var t=function(n,e){var t=n[1]||"",o=n[3];if(!o)return t;if(e&&"function"==typeof btoa){var r=function(n){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"}(o),i=o.sources.map(function(n){return"/*# sourceURL="+o.sourceRoot+n+" */"});return[t].concat(i).concat([r]).join("\n")}return[t].join("\n")}(e,n);return e[2]?"@media "+e[2]+"{"+t+"}":t}).join("")},e.i=function(n,t){"string"==typeof n&&(n=[[null,n,""]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(o[i]=!0)}for(r=0;r<n.length;r++){var a=n[r];"number"==typeof a[0]&&o[a[0]]||(t&&!a[2]?a[2]=t:t&&(a[2]="("+a[2]+") and ("+t+")"),e.push(a))}},e}},function(n,e,t){var o={},r=function(n){var e;return function(){return void 0===e&&(e=n.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),i=function(n){var e={};return function(n,t){if("function"==typeof n)return n();if(void 0===e[n]){var o=function(n,e){return e?e.querySelector(n):document.querySelector(n)}.call(this,n,t);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(n){o=null}e[n]=o}return e[n]}}(),a=null,c=0,u=[],s=t(4);function l(n,e){for(var t=0;t<n.length;t++){var r=n[t],i=o[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(h(r.parts[a],e))}else{var c=[];for(a=0;a<r.parts.length;a++)c.push(h(r.parts[a],e));o[r.id]={id:r.id,refs:1,parts:c}}}}function f(n,e){for(var t=[],o={},r=0;r<n.length;r++){var i=n[r],a=e.base?i[0]+e.base:i[0],c={css:i[1],media:i[2],sourceMap:i[3]};o[a]?o[a].parts.push(c):t.push(o[a]={id:a,parts:[c]})}return t}function d(n,e){var t=i(n.insertInto);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=u[u.length-1];if("top"===n.insertAt)o?o.nextSibling?t.insertBefore(e,o.nextSibling):t.appendChild(e):t.insertBefore(e,t.firstChild),u.push(e);else if("bottom"===n.insertAt)t.appendChild(e);else{if("object"!=typeof n.insertAt||!n.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=i(n.insertAt.before,t);t.insertBefore(e,r)}}function v(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n);var e=u.indexOf(n);e>=0&&u.splice(e,1)}function m(n){var e=document.createElement("style");if(void 0===n.attrs.type&&(n.attrs.type="text/css"),void 0===n.attrs.nonce){var o=function(){0;return t.nc}();o&&(n.attrs.nonce=o)}return p(e,n.attrs),d(n,e),e}function p(n,e){Object.keys(e).forEach(function(t){n.setAttribute(t,e[t])})}function h(n,e){var t,o,r,i;if(e.transform&&n.css){if(!(i="function"==typeof e.transform?e.transform(n.css):e.transform.default(n.css)))return function(){};n.css=i}if(e.singleton){var u=c++;t=a||(a=m(e)),o=b.bind(null,t,u,!1),r=b.bind(null,t,u,!0)}else n.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(t=function(n){var e=document.createElement("link");return void 0===n.attrs.type&&(n.attrs.type="text/css"),n.attrs.rel="stylesheet",p(e,n.attrs),d(n,e),e}(e),o=function(n,e,t){var o=t.css,r=t.sourceMap,i=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||i)&&(o=s(o));r&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([o],{type:"text/css"}),c=n.href;n.href=URL.createObjectURL(a),c&&URL.revokeObjectURL(c)}.bind(null,t,e),r=function(){v(t),t.href&&URL.revokeObjectURL(t.href)}):(t=m(e),o=function(n,e){var t=e.css,o=e.media;o&&n.setAttribute("media",o);if(n.styleSheet)n.styleSheet.cssText=t;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(t))}}.bind(null,t),r=function(){v(t)});return o(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap)return;o(n=e)}else r()}}n.exports=function(n,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=r()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var t=f(n,e);return l(t,e),function(n){for(var r=[],i=0;i<t.length;i++){var a=t[i];(c=o[a.id]).refs--,r.push(c)}n&&l(f(n,e),e);for(i=0;i<r.length;i++){var c;if(0===(c=r[i]).refs){for(var u=0;u<c.parts.length;u++)c.parts[u]();delete o[c.id]}}}};var g=function(){var n=[];return function(e,t){return n[e]=t,n.filter(Boolean).join("\n")}}();function b(n,e,t,o){var r=t?"":o.css;if(n.styleSheet)n.styleSheet.cssText=g(e,r);else{var i=document.createTextNode(r),a=n.childNodes;a[e]&&n.removeChild(a[e]),a.length?n.insertBefore(i,a[e]):n.appendChild(i)}}},function(n,e){n.exports=function(n){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!n||"string"!=typeof n)return n;var t=e.protocol+"//"+e.host,o=t+e.pathname.replace(/\/[^\/]*$/,"/");return n.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(n,e){var r,i=e.trim().replace(/^"(.*)"$/,function(n,e){return e}).replace(/^'(.*)'$/,function(n,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?n:(r=0===i.indexOf("//")?i:0===i.indexOf("/")?t+i:o+i.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(n,e,t){"use strict";t.r(e);var o={view:{x:-.5,y:0,zoom:3},ui:{},resolution:.5,iterations:50,divergence:15,webgl:!0,animate:!1,flying:!1,time:0},r=[],i=function(){if(0===r.length)for(var n=0;n<1e4;n++){var e=2*Math.PI*(n/1e4);r.push(Math.sin(e))}},a=function(n,e,t){return(e-n)*t+parseFloat(n,10)},c=function(n){i();var e=parseInt(1e4*n/(2*Math.PI),10)%1e4;return r[e]},u=function(n,e,t,o,r){e-=.5,t-=.5;var i=l(n)*r,a=f(n),c=n.zoom*o,u=c*r,s=c,d=c;return{x:n.x-e*(u-i),y:n.y-t*(s-a),zoom:d}},s=function(){return document.body.clientWidth/document.body.clientHeight},l=function(n){return n.zoom},f=function(n){return n.zoom},d=null,v=null,m=function(n){var e=n.createBuffer();return n.bindBuffer(n.ARRAY_BUFFER,e),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,1,1,1,-1,-1,1,-1]),n.STATIC_DRAW),e},p=function(n,e,t){var o=n.createShader(e);return n.shaderSource(o,t),n.compileShader(o),n.getShaderParameter(o,n.COMPILE_STATUS)?o:(n.deleteShader(o),null)},h=function(n,e){var t="\nprecision highp float;\n\nuniform vec4 view;\nuniform vec2 screen;\nuniform float phase;\nvarying vec2 vUV;  \n\n#define ITERATIONS ".concat(e.toFixed(2),"\n\nvec4 getColor(float t) {\n    \n    return vec4(\n        (cos(t) + 1.0) * 0.5,\n        (sin(t + 3.1415) + 1.0) * 0.5,\n        (sin(t) + 1.0) * 0.5,\n        1.0\n    );\n}\n\nvoid main() {\n\n    vec4 color = vec4(0.0,0.0,0.0,1.0); \n\n    float COMPx = 0.0;\n    float COMPy = 0.0;\n    float z = 0.0;\n\n    float zoom = view.z;\n    float width = zoom * view.w;\n    float height = zoom;\n    \n    float left = view.x - width * 0.5;\n    float top = view.y - height * 0.5;  \n\n    float factorX = width / 1.0;\n    float factorY = height / 1.0;\n\n   for(float i = 0.0; i < 1.0; i += (1.0 / ITERATIONS)) {\n\n        float x = (vUV.x * factorX) + left;\n        float y = (vUV.y * factorY) + top;\n        \n        float COMPx_new = COMPx * COMPx - COMPy * COMPy + x;\n        float COMPy_new = 2.0 * COMPx * COMPy + y;\n        float zN = (COMPx_new + COMPy_new);\n\n        if (abs(zN - z) > 5.0) {\n            color = getColor(i * 10.0 + phase);\n            break;\n        }\n\n        COMPx = COMPx_new;\n        COMPy = COMPy_new;\n        z = zN;\n    }\n\n    gl_FragColor = color;\n}\n"),o=p(n,n.VERTEX_SHADER,"\nprecision highp float;\n\nattribute vec2 vertexPosition;\n\nvarying vec2 vUV; \n\nvoid main() {\n\n    float x = vertexPosition.x;\n    float y = vertexPosition.y;\n\n    vUV = vec2(x, -y) * 0.5 + vec2(0.5, 0.5);\n    gl_Position =  vec4(vertexPosition.xy, 0.0, 1.0);\n}\n"),r=p(n,n.FRAGMENT_SHADER,t),i=n.createProgram();if(n.attachShader(i,o),n.attachShader(i,r),n.linkProgram(i),n.getProgramParameter(i,n.LINK_STATUS))return{program:i,attribLocations:{vertexPosition:n.getAttribLocation(i,"vertexPosition")},uniformLocations:{view:n.getUniformLocation(i,"view"),screen:n.getUniformLocation(i,"screen"),phase:n.getUniformLocation(i,"phase")}}},g=function(n,e,t){n.viewport(0,0,n.canvas.width,n.canvas.height),n.clearColor(1,1,0,1),n.clear(n.COLOR_BUFFER_BIT),function(n,e,t){n.bindBuffer(n.ARRAY_BUFFER,d),n.vertexAttribPointer(v.attribLocations.vertexPosition,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(v.attribLocations.vertexPosition),n.useProgram(v.program),n.uniform4fv(v.uniformLocations.view,[e.view.x,e.view.y,e.view.zoom,t]),n.uniform2fv(v.uniformLocations.screen,[n.canvas.width,n.canvas.height]),n.uniform1f(v.uniformLocations.phase,e.time)}(n,e,t),n.drawArrays(n.TRIANGLE_STRIP,0,4)},b=function(n,e,t){var o=document.getElementById(n);if(o){var r=function(n){var e=o.parentElement.querySelector("span");e&&(e.innerText=n)};o.value=e,o.addEventListener("change",function(n){r(n.currentTarget.value),t&&t(n)}),r(e)}},y=function(n,e,t){var o=document.getElementById(n);o&&(o.classList.toggle("toggled",e),o.addEventListener("click",function(n){e=!e,o.classList.toggle("toggled",e),t(n)}))},w=function(n,e){var t=document.getElementById(n);t&&t.addEventListener("click",e)},x=function(n,e,t){n[e+0]=125*(function(n){i();var e=parseInt(1e4*(n+.5*Math.PI)/(2*Math.PI),10)%1e4;return r[e]}(t)+1),n[e+1]=125*(c(t+Math.PI)+1),n[e+2]=125*(c(t)+1),n[e+3]=255},C=function(n,e,t){var o=n.canvas.width,r=n.canvas.height;n.fillStyle="black",n.fillRect(0,0,o,r);var i=n.getImageData(0,0,o,r);!function(n,e,t,o,r){for(var i=o.view,a=o.time,c=o.iterations,u=o.divergence,s=l(i)*r,d=f(i),v=i.x-.5*s,m=i.y-.5*d,p=s/e,h=d/t,g=0;g<e;g++)for(var b=0;b<t;b++)for(var y=g*p+v,w=b*h+m,C=0,M=0,O=0,P=0;P<1;P+=1/c){var L=M*M-O*O+y,R=2*M*O+w,S=L+R;if(Math.abs(S-C)>u){x(n,4*(b*e+g),10*P+a);break}M=L,O=R,C=S}}(i.data,o,r,e,t),n.putImageData(i,0,0)},M=(t(0),null),O=function(n){return n.clientX/document.body.clientWidth},P=function(n){return n.clientY/document.body.clientHeight},L=function(n,e){var t=Object.assign({},o.view);o.flying&&(clearTimeout(o.flying),o.flying=void 0);o.flying=setTimeout(function r(i){var c=Math.min((Date.now()-i)/1e3,.5),u=function(n,e){return(n/=e/2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)}(c,.5);o.view=function(n,e,t){return{x:a(n.x,e.x,t),y:a(n.y,e.y,t),zoom:a(n.zoom,e.zoom,t)}}(t,n,u),o.flying=c<.5?setTimeout(r,10,i):void 0,!o.flying&&e&&e()},0,Date.now())},R=function(n){if(n.buttons>0){var e=-n.movementX/document.body.clientWidth,t=-n.movementY/document.body.clientHeight;o.view=function(n,e,t,o){var r=l(n)*o,i=f(n);return{x:n.x+e*r,y:n.y+t*i,zoom:n.zoom}}(o.view,e,t,s())}},S=function(n){var e=O(n),t=P(n),r=n.wheelDeltaY>0?.75:1.25;L(u(o.view,e,t,r,s()))},z=function(n){var e=O(n),t=P(n);L(u(o.view,e,t,.1,s()))},A=function(){var n=document.querySelector("canvas"),e=parseInt(document.body.clientWidth*o.resolution),t=parseInt(document.body.clientHeight*o.resolution);n.width!==e&&(n.width=e),n.height!==t&&(n.height=t),o.webgl?g(M,o,s()):C(M,o,s()),o.animate&&(o.time=Date.now()/1e3%1e3)},T=function(){L({x:-.5,y:0,zoom:3})},I=function(n){o.resolution=parseFloat(n.currentTarget.value)},E=function(n){o.iterations=parseInt(n.currentTarget.value),o.webgl&&F(o.webgl)},U=function(n){o.divergence=parseInt(n.currentTarget.value),o.webgl&&F(o.webgl)},k=function(){o.animate=!o.animate},j=function(){o.webgl=!o.webgl,F(o.webgl)},_=function(n,e){!function(n,e){var t=document.body.querySelector(n);if(t){var o=document.createElement("canvas");o.width=150,o.height=150;var r=o.getContext("2d");e(r),t.src=r.canvas.toDataURL(),o.remove()}}("#".concat(n," img"),function(n){C(n,Object.assign({},o,{view:e}),1)}),w(n,function(){!function(n){var e={x:-.5,y:0,zoom:3};return n.x===e.x&&n.y===e.y&&n.zoom===e.zoom}(o.view)?L({x:-.5,y:0,zoom:3},function(){return L(e)}):L(e)})},B=function(){w("reset",T),y("animate",o.animate,k),y("mode",o.webgl,j),b("resolution",o.resolution,I),b("iterations",o.iterations,E),b("divergence",o.divergence,U),F(o.webgl),_("dest0",{x:-.8036284402834375,y:.18252764009245603,zoom:.0017168874184687476}),_("dest1",{x:-1.195852878464819,y:-.31260127931769716,zoom:.02999999999999997}),_("dest2",{x:.28773359691377504,y:.011569467738227467,zoom:.0010047419752590714}),_("dest3",{x:-.5658287599483223,y:.5653723561505654,zoom:.057453340757295884});!function n(){A(),requestAnimationFrame(n)}()},F=function(n){var e=!0,t=!1,r=void 0;try{for(var i,a=document.body.querySelectorAll("canvas")[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){i.value.remove()}}catch(n){t=!0,r=n}finally{try{e||null==a.return||a.return()}finally{if(t)throw r}}var c=document.createElement("canvas");if(c.addEventListener("mousemove",R),c.addEventListener("mousewheel",S),c.addEventListener("dblclick",z),c.addEventListener("contextmenu",function(n){return n.preventDefault()}),document.body.appendChild(c),n)try{M=function(n,e){var t=n.getContext("webgl");return d=m(t),v=h(t,e),t}(c,o.iterations)}catch(n){console.error(n),o.webgl=!1,M=c.getContext("2d")}else M=function(n){return n.getContext("2d")}(c)};B();e.default={onInit:B,onRenderFrame:A,onCanvasMouseMove:R,onCanvasMouseWheel:S,onCanvasDoubleClick:z,animateToView:L,onReset:T,onAnimateToggle:k,onToggleMode:j,onChangeResoultion:I,onChangeIterations:E}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlcy5zY3NzP2M1MjAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlcy5zY3NzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvdXJscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3RhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hlbHBlcnMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3dlYmdsLmpzIiwid2VicGFjazovLy8uL3NyYy91aS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY2FudmFzLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJjb250ZW50Iiwib3B0aW9ucyIsImhtciIsInRyYW5zZm9ybSIsImluc2VydEludG8iLCJ1bmRlZmluZWQiLCJsb2NhbHMiLCJwdXNoIiwidXNlU291cmNlTWFwIiwibGlzdCIsInRvU3RyaW5nIiwidGhpcyIsIm1hcCIsIml0ZW0iLCJjc3NNYXBwaW5nIiwiYnRvYSIsInNvdXJjZU1hcHBpbmciLCJzb3VyY2VNYXAiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0b0NvbW1lbnQiLCJzb3VyY2VVUkxzIiwic291cmNlcyIsInNvdXJjZSIsInNvdXJjZVJvb3QiLCJjb25jYXQiLCJqb2luIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsIm1lZGlhUXVlcnkiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwibGVuZ3RoIiwiaWQiLCJzdHlsZXNJbkRvbSIsImlzT2xkSUUiLCJmbiIsIm1lbW8iLCJhcHBseSIsImFyZ3VtZW50cyIsIm1lbW9pemUiLCJ3aW5kb3ciLCJkb2N1bWVudCIsImFsbCIsImF0b2IiLCJnZXRFbGVtZW50IiwidGFyZ2V0IiwicGFyZW50Iiwic3R5bGVUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsInNpbmdsZXRvbiIsInNpbmdsZXRvbkNvdW50ZXIiLCJzdHlsZXNJbnNlcnRlZEF0VG9wIiwiZml4VXJscyIsImFkZFN0eWxlc1RvRG9tIiwic3R5bGVzIiwiZG9tU3R5bGUiLCJyZWZzIiwiaiIsInBhcnRzIiwiYWRkU3R5bGUiLCJsaXN0VG9TdHlsZXMiLCJuZXdTdHlsZXMiLCJiYXNlIiwicGFydCIsImNzcyIsIm1lZGlhIiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGUiLCJFcnJvciIsImxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wIiwiaW5zZXJ0QXQiLCJuZXh0U2libGluZyIsImluc2VydEJlZm9yZSIsImFwcGVuZENoaWxkIiwiZmlyc3RDaGlsZCIsImJlZm9yZSIsInJlbW92ZVN0eWxlRWxlbWVudCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImlkeCIsImluZGV4T2YiLCJzcGxpY2UiLCJjcmVhdGVTdHlsZUVsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiYXR0cnMiLCJ0eXBlIiwibm9uY2UiLCJuYyIsImdldE5vbmNlIiwiYWRkQXR0cnMiLCJlbCIsImtleXMiLCJmb3JFYWNoIiwic2V0QXR0cmlidXRlIiwib2JqIiwidXBkYXRlIiwicmVtb3ZlIiwicmVzdWx0IiwiZGVmYXVsdCIsInN0eWxlSW5kZXgiLCJhcHBseVRvU2luZ2xldG9uVGFnIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwicmV2b2tlT2JqZWN0VVJMIiwiQmxvYiIsImxpbmsiLCJyZWwiLCJjcmVhdGVMaW5rRWxlbWVudCIsImF1dG9GaXhVcmxzIiwiY29udmVydFRvQWJzb2x1dGVVcmxzIiwiYmxvYiIsIm9sZFNyYyIsImhyZWYiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImNyZWF0ZVRleHROb2RlIiwibmV3T2JqIiwiREVCVUciLCJuZXdMaXN0IiwibWF5UmVtb3ZlIiwicmVwbGFjZVRleHQiLCJ0ZXh0U3RvcmUiLCJpbmRleCIsInJlcGxhY2VtZW50IiwiZmlsdGVyIiwiQm9vbGVhbiIsImNzc05vZGUiLCJjaGlsZE5vZGVzIiwibG9jYXRpb24iLCJiYXNlVXJsIiwicHJvdG9jb2wiLCJob3N0IiwiY3VycmVudERpciIsInBhdGhuYW1lIiwicmVwbGFjZSIsImZ1bGxNYXRjaCIsIm9yaWdVcmwiLCJuZXdVcmwiLCJ1bnF1b3RlZE9yaWdVcmwiLCJ0cmltIiwiJDEiLCJ0ZXN0Iiwic3JjX3N0YXRlIiwidmlldyIsIngiLCJ5Iiwiem9vbSIsInVpIiwicmVzb2x1dGlvbiIsIml0ZXJhdGlvbnMiLCJkaXZlcmdlbmNlIiwid2ViZ2wiLCJhbmltYXRlIiwiZmx5aW5nIiwidGltZSIsInByZWNvbXB1dGVkQ3ljbGUiLCJwcmVjb21wdXRlQ3ljbGVJZk5lZWRlZCIsInRoZXRhIiwiTWF0aCIsIlBJIiwic2luIiwibGVycCIsImEiLCJiIiwicGFyc2VGbG9hdCIsInBoYXNlIiwic2luZUxvb2t1cCIsInBhcnNlSW50IiwiZnJhY1giLCJmcmFjWSIsImZhY3RvciIsImFzcGVjdFJhdGlvIiwibWFwV2lkdGgiLCJ6b29tV2lkdGgiLCJtYXBIZWlnaHQiLCJ6b29tSGVpZ2h0IiwibmV3Wm9vbSIsIm5ld01hcFdpZHRoIiwibmV3TWFwSGVpZ2h0IiwiYm9keSIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0IiwicXVhZEJ1ZmZlciIsIm1hbmRlbGJyb3RQcm9ncmFtIiwiY3JlYXRlUXVhZEJ1ZmZlciIsImdsIiwicG9zaXRpb25CdWZmZXIiLCJjcmVhdGVCdWZmZXIiLCJiaW5kQnVmZmVyIiwiQVJSQVlfQlVGRkVSIiwiYnVmZmVyRGF0YSIsIkZsb2F0MzJBcnJheSIsIlNUQVRJQ19EUkFXIiwiY3JlYXRlU2hhZGVyIiwic2hhZGVyIiwic2hhZGVyU291cmNlIiwiY29tcGlsZVNoYWRlciIsImdldFNoYWRlclBhcmFtZXRlciIsIkNPTVBJTEVfU1RBVFVTIiwiZGVsZXRlU2hhZGVyIiwiY3JlYXRlTWFuZGVsYnJvdFByb2dyYW0iLCJmcmFnbWVudFNyYyIsInRvRml4ZWQiLCJ2ZXJ0ZXhTaGFkZXIiLCJWRVJURVhfU0hBREVSIiwiZnJhZ21lbnRTaGFkZXIiLCJGUkFHTUVOVF9TSEFERVIiLCJzaGFkZXJQcm9ncmFtIiwiY3JlYXRlUHJvZ3JhbSIsImF0dGFjaFNoYWRlciIsImxpbmtQcm9ncmFtIiwiZ2V0UHJvZ3JhbVBhcmFtZXRlciIsIkxJTktfU1RBVFVTIiwicHJvZ3JhbSIsImF0dHJpYkxvY2F0aW9ucyIsInZlcnRleFBvc2l0aW9uIiwiZ2V0QXR0cmliTG9jYXRpb24iLCJ1bmlmb3JtTG9jYXRpb25zIiwiZ2V0VW5pZm9ybUxvY2F0aW9uIiwic2NyZWVuIiwicmVuZGVyRnJhbWUiLCJzdGF0ZSIsInZpZXdwb3J0IiwiY2FudmFzIiwid2lkdGgiLCJoZWlnaHQiLCJjbGVhckNvbG9yIiwiY2xlYXIiLCJDT0xPUl9CVUZGRVJfQklUIiwidmVydGV4QXR0cmliUG9pbnRlciIsIkZMT0FUIiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJ1c2VQcm9ncmFtIiwidW5pZm9ybTRmdiIsInVuaWZvcm0yZnYiLCJ1bmlmb3JtMWYiLCJiaW5kTWFuZGVsYnJvdFByb2dyYW0iLCJkcmF3QXJyYXlzIiwiVFJJQU5HTEVfU1RSSVAiLCJjcmVhdGVTbGlkZXIiLCJvbkNoYW5nZSIsImVsZW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInVwZGF0ZVZhbHVlRGlzcGxheSIsInRleHQiLCJzcGFuIiwicGFyZW50RWxlbWVudCIsImlubmVyVGV4dCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsImN1cnJlbnRUYXJnZXQiLCJjcmVhdGVUb2dnbGUiLCJvblRvZ2dsZSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImNyZWF0ZUJ1dHRvbiIsIm9uQ2xpY2siLCJzaGFkZVRleGVsIiwiYnVmZmVyIiwiY29zaW5lTG9vcHVwIiwiSGVscGVycyIsImNvbnRleHQiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImltYWdlRGF0YSIsImdldEltYWdlRGF0YSIsImRvbWFpbldpZHRoIiwiRG9tYWluIiwiZG9tYWluSGVpZ2h0IiwiZG9tYWluTGVmdCIsImRvbWFpblRvcCIsImZhY3RvclgiLCJmYWN0b3JZIiwiayIsInoiLCJDT01QeCIsIkNPTVB5IiwiQ09NUHhfbmV3IiwiQ09NUHlfbmV3Iiwiek4iLCJhYnMiLCJnZW5lcmF0ZU1hbmRlbGJyb3QiLCJkYXRhIiwicHV0SW1hZ2VEYXRhIiwiY3Vyc29yRnJhY1giLCJjbGllbnRYIiwiY3Vyc29yRnJhY1kiLCJjbGllbnRZIiwiYW5pbWF0ZVRvVmlldyIsInZpZXdFbmQiLCJjYWxsYmFjayIsInZpZXdTdGFydCIsImFzc2lnbiIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJpdGVyYXRpb24iLCJzdGFydFRpbWUiLCJtaW4iLCJEYXRlIiwibm93IiwiZnJhYyIsImR1cmF0aW9uIiwiZnJvbURvbWFpbiIsInRvRG9tYWluIiwiVmlldyIsIm9uQ2FudmFzTW91c2VNb3ZlIiwiYnV0dG9ucyIsImR4IiwibW92ZW1lbnRYIiwiZHkiLCJtb3ZlbWVudFkiLCJkdyIsImRoIiwib25DYW52YXNNb3VzZVdoZWVsIiwic2NhbGUiLCJ3aGVlbERlbHRhWSIsIm9uQ2FudmFzRG91YmxlQ2xpY2siLCJvblJlbmRlckZyYW1lIiwiV2ViR0wiLCJDYW52YXMiLCJvblJlc2V0Iiwib25DaGFuZ2VSZXNvdWx0aW9uIiwib25DaGFuZ2VJdGVyYXRpb25zIiwibG9hZENhbnZhcyIsIm9uQ2hhbmdlRGl2ZXJnZW5jZSIsIm9uQW5pbWF0ZVRvZ2dsZSIsIm9uVG9nZ2xlTW9kZSIsImNyZWF0ZUltYWdlIiwic2VsZWN0b3IiLCJyZW5kZXJDYWxsYmFjayIsImltZyIsImdldENvbnRleHQiLCJzcmMiLCJ0b0RhdGFVUkwiLCJVSSIsIm9uSW5pdCIsIm9uUmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiaXNXZWJHTCIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24iLCJfZGlkSXRlcmF0b3JFcnJvciIsIl9pdGVyYXRvckVycm9yIiwiX3N0ZXAiLCJfaXRlcmF0b3IiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaXRlcmF0b3IiLCJuZXh0IiwiZG9uZSIsImVyciIsInJldHVybiIsInByZXZlbnREZWZhdWx0IiwiY29uc29sZSIsImVycm9yIiwiX193ZWJwYWNrX2V4cG9ydHNfXyJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxJQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFlBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdB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LFlBQUFULEdBQUEsTUFBQUksRUFBQU0sUUFBQU4sRUFBQU0sU0FBQSxXQUFBVCxFQUFBLE1BQUFDLEdBSzVCLElBQU10SCxFQUFTMUwsU0FBUzhDLGNBQWMsVUFRdEMsR0FQQTRJLEVBQU95QixpQkFBaUIsWUFBYXlELEdBQ3JDbEYsRUFBT3lCLGlCQUFpQixhQUFjaUUsR0FDdEMxRixFQUFPeUIsaUJBQWlCLFdBQVlvRSxHQUNwQzdGLEVBQU95QixpQkFBaUIsY0FBZSxTQUFBQyxHQUFLLE9BQUlBLEVBQU1xRyxtQkFFdER6VCxTQUFTOEksS0FBSzFHLFlBQVlzSixHQUV0Qm1ILEVBQ0YsSUFDRTdFLEVIdE11QixTQUFDdEMsRUFBUTFFLEdBQ3BDLElBQUlvQyxFQUFLc0MsRUFBTzRHLFdBQVcsU0FNM0IsT0FKQXJKLEVBQWFFLEVBQWlCQyxHQUU5QkYsRUFBb0JpQixFQUF3QmYsRUFBSXBDLEdBRXpDb0MsRUcrTE9xSSxDQUFvQi9GLEVBQVFGLEVBQU14RSxZQUM1QyxNQUFPdU0sR0FDUEcsUUFBUUMsTUFBTUosR0FDZC9ILEVBQU10RSxPQUFRLEVBQ2Q4RyxFQUFVdEMsRUFBTzRHLFdBQVcsV0FHOUJ0RSxFRG5KeUIsU0FBQXRDLEdBQzNCLE9BQU9BLEVBQU80RyxXQUFXLE1Da0piWixDQUFxQmhHLElBSW5DZ0gsSUFFZWtCLEVBQUEsU0FDYmxCLFNBQ0FsQixnQkFDQVosb0JBQ0FRLHFCQUNBRyxzQkFDQTVCLGdCQUNBZ0MsVUFDQUssa0JBQ0FDLGVBQ0FMLHFCQUNBQyIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNSk7XG4iLCJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanMhLi9zdHlsZXMuc2Nzc1wiKTtcblxuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cbnZhciB0cmFuc2Zvcm07XG52YXIgaW5zZXJ0SW50bztcblxuXG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cblxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbm9wdGlvbnMuaW5zZXJ0SW50byA9IHVuZGVmaW5lZDtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanMhLi9zdHlsZXMuc2Nzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzIS4vc3R5bGVzLnNjc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKGZhbHNlKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcImJvZHkge1xcbiAgd2lkdGg6IDEwMHZ3O1xcbiAgaGVpZ2h0OiAxMDB2aDtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIGZvbnQtZmFtaWx5OiBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmOyB9XFxuXFxuY2FudmFzIHtcXG4gIHdpZHRoOiAxMDB2dztcXG4gIGhlaWdodDogMTAwdmg7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIHRvcDogMDtcXG4gIGxlZnQ6IDA7IH1cXG5cXG5mb3JtIHtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIHRvcDogMXJlbTtcXG4gIHJpZ2h0OiAxcmVtO1xcbiAgei1pbmRleDogMTtcXG4gIGJhY2tncm91bmQ6ICMxNTE1MTU7XFxuICBib3JkZXItcmFkaXVzOiAwLjJyZW07XFxuICBwYWRkaW5nOiAwLjVyZW07XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICAtd2Via2l0LXRvdWNoLWNhbGxvdXQ6IG5vbmU7XFxuICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcbiAgLWtodG1sLXVzZXItc2VsZWN0OiBub25lO1xcbiAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcXG4gIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcXG4gIHVzZXItc2VsZWN0OiBub25lOyB9XFxuICBmb3JtIGRpdiB7XFxuICAgIG1hcmdpbi10b3A6IDFyZW07XFxuICAgIG1hcmdpbi1ib3R0b206IDAuNXJlbTtcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlOyB9XFxuXFxuaDEge1xcbiAgZm9udC1zaXplOiAxcmVtO1xcbiAgY29sb3I6ICNlZWU7XFxuICBmb250LXNpemU6IDAuN3JlbTtcXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsgfVxcblxcbmEge1xcbiAgY29sb3I6ICM0YzRjNGM7XFxuICBtYXJnaW46IDAgMC4yNXJlbTtcXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXG4gIGZvbnQtc2l6ZTogMC41NXJlbTtcXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsgfVxcbiAgYTpob3ZlciB7XFxuICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOyB9XFxuXFxubGFiZWwge1xcbiAgY29sb3I6ICM0YzRjNGM7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIG1hcmdpbi1ib3R0b206IDAuNXJlbTtcXG4gIHRleHQtYWxpZ246IGxlZnQ7XFxuICBmb250LXNpemU6IDAuNTVyZW07XFxuICBmb250LXdlaWdodDogYm9sZDtcXG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7IH1cXG4gIGxhYmVsICsgc3BhbiB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgdG9wOiAwO1xcbiAgICByaWdodDogMDtcXG4gICAgZm9udC1zaXplOiAwLjY1cmVtO1xcbiAgICBmb250LXdlaWdodDogYm9sZDtcXG4gICAgY29sb3I6ICNlZWU7IH1cXG5cXG5pbnB1dCB7XFxuICBvdXRsaW5lOiBub25lO1xcbiAgY3Vyc29yOiBwb2ludGVyOyB9XFxuICBpbnB1dFt0eXBlPVxcXCJyYW5nZVxcXCJdIHtcXG4gICAgbWFyZ2luOiAwO1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lOyB9XFxuICAgIGlucHV0W3R5cGU9XFxcInJhbmdlXFxcIl06Oi13ZWJraXQtc2xpZGVyLXRodW1iIHtcXG4gICAgICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7XFxuICAgICAgaGVpZ2h0OiAxcmVtO1xcbiAgICAgIHdpZHRoOiAwLjc1cmVtO1xcbiAgICAgIGJhY2tncm91bmQ6ICNmZmViMDA7XFxuICAgICAgYm9yZGVyLXJhZGl1czogMC4xcmVtOyB9XFxuICAgIGlucHV0W3R5cGU9XFxcInJhbmdlXFxcIl06Oi13ZWJraXQtc2xpZGVyLXJ1bm5hYmxlLXRyYWNrIHtcXG4gICAgICBiYWNrZ3JvdW5kOiAjMDgwODA4O1xcbiAgICAgIGhlaWdodDogMXJlbTsgfVxcbiAgaW5wdXRbdHlwZT1cXFwiYnV0dG9uXFxcIl0ge1xcbiAgICBib3JkZXItcmFkaXVzOiAwLjFyZW07XFxuICAgIGJhY2tncm91bmQ6ICMyMjIyMjI7XFxuICAgIGNvbG9yOiAjZWVlO1xcbiAgICBwYWRkaW5nOiAwLjI1cmVtIDFyZW07XFxuICAgIGJvcmRlcjogbm9uZTtcXG4gICAgZm9udC1zaXplOiAwLjdyZW07XFxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xcbiAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOyB9XFxuICBpbnB1dC50b2dnbGVkIHtcXG4gICAgYmFja2dyb3VuZDogI2ZmZWIwMDtcXG4gICAgY29sb3I6ICM0YzRjNGM7IH1cXG4gIGlucHV0OmhvdmVyIHtcXG4gICAgb3BhY2l0eTogMC43OyB9XFxuXFxubmF2IHtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIGJvdHRvbTogMXJlbTtcXG4gIHJpZ2h0OiAxcmVtO1xcbiAgbGVmdDogMXJlbTtcXG4gIHotaW5kZXg6IDE7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICAtd2Via2l0LXRvdWNoLWNhbGxvdXQ6IG5vbmU7XFxuICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcbiAgLWtodG1sLXVzZXItc2VsZWN0OiBub25lO1xcbiAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcXG4gIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcXG4gIHVzZXItc2VsZWN0OiBub25lOyB9XFxuICBuYXYgYnV0dG9uIHtcXG4gICAgcGFkZGluZzogMDtcXG4gICAgYm9yZGVyOiBub25lO1xcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gICAgbWFyZ2luOiAwIDAuNXJlbTtcXG4gICAgYm9yZGVyOiAwLjJyZW0gc29saWQgIzE1MTUxNTtcXG4gICAgb3V0bGluZTogbm9uZTtcXG4gICAgY3Vyc29yOiBwb2ludGVyOyB9XFxuICAgIG5hdiBidXR0b24gaW1nIHtcXG4gICAgICB3aWR0aDogNXJlbTtcXG4gICAgICBoZWlnaHQ6IDVyZW07XFxuICAgICAgZGlzcGxheTogYmxvY2s7IH1cXG4gICAgbmF2IGJ1dHRvbjpob3ZlciB7XFxuICAgICAgb3BhY2l0eTogMC43OyB9XFxuXCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIiwiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHVzZVNvdXJjZU1hcCkge1xuXHR2YXIgbGlzdCA9IFtdO1xuXG5cdC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblx0bGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuXHRcdHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuXHRcdFx0dmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XG5cdFx0XHRpZihpdGVtWzJdKSB7XG5cdFx0XHRcdHJldHVybiBcIkBtZWRpYSBcIiArIGl0ZW1bMl0gKyBcIntcIiArIGNvbnRlbnQgKyBcIn1cIjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBjb250ZW50O1xuXHRcdFx0fVxuXHRcdH0pLmpvaW4oXCJcIik7XG5cdH07XG5cblx0Ly8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3Rcblx0bGlzdC5pID0gZnVuY3Rpb24obW9kdWxlcywgbWVkaWFRdWVyeSkge1xuXHRcdGlmKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKVxuXHRcdFx0bW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgXCJcIl1dO1xuXHRcdHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpZCA9IHRoaXNbaV1bMF07XG5cdFx0XHRpZih0eXBlb2YgaWQgPT09IFwibnVtYmVyXCIpXG5cdFx0XHRcdGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcblx0XHR9XG5cdFx0Zm9yKGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBtb2R1bGVzW2ldO1xuXHRcdFx0Ly8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxuXHRcdFx0Ly8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcblx0XHRcdC8vICB3aGVuIGEgbW9kdWxlIGlzIGltcG9ydGVkIG11bHRpcGxlIHRpbWVzIHdpdGggZGlmZmVyZW50IG1lZGlhIHF1ZXJpZXMuXG5cdFx0XHQvLyAgSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxuXHRcdFx0aWYodHlwZW9mIGl0ZW1bMF0gIT09IFwibnVtYmVyXCIgfHwgIWFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcblx0XHRcdFx0aWYobWVkaWFRdWVyeSAmJiAhaXRlbVsyXSkge1xuXHRcdFx0XHRcdGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuXHRcdFx0XHR9IGVsc2UgaWYobWVkaWFRdWVyeSkge1xuXHRcdFx0XHRcdGl0ZW1bMl0gPSBcIihcIiArIGl0ZW1bMl0gKyBcIikgYW5kIChcIiArIG1lZGlhUXVlcnkgKyBcIilcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRsaXN0LnB1c2goaXRlbSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHRyZXR1cm4gbGlzdDtcbn07XG5cbmZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKSB7XG5cdHZhciBjb250ZW50ID0gaXRlbVsxXSB8fCAnJztcblx0dmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXHRpZiAoIWNzc01hcHBpbmcpIHtcblx0XHRyZXR1cm4gY29udGVudDtcblx0fVxuXG5cdGlmICh1c2VTb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcblx0XHR2YXIgc291cmNlTWFwcGluZyA9IHRvQ29tbWVudChjc3NNYXBwaW5nKTtcblx0XHR2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuXHRcdFx0cmV0dXJuICcvKiMgc291cmNlVVJMPScgKyBjc3NNYXBwaW5nLnNvdXJjZVJvb3QgKyBzb3VyY2UgKyAnICovJ1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG5cdH1cblxuXHRyZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufVxuXG4vLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5mdW5jdGlvbiB0b0NvbW1lbnQoc291cmNlTWFwKSB7XG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuXHR2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKTtcblx0dmFyIGRhdGEgPSAnc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsJyArIGJhc2U2NDtcblxuXHRyZXR1cm4gJy8qIyAnICsgZGF0YSArICcgKi8nO1xufVxuIiwiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cblxudmFyIHN0eWxlc0luRG9tID0ge307XG5cbnZhclx0bWVtb2l6ZSA9IGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbztcblxuXHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0cmV0dXJuIG1lbW87XG5cdH07XG59O1xuXG52YXIgaXNPbGRJRSA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xuXHQvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuXHQvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG5cdC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcblx0Ly8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG5cdC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuXHRyZXR1cm4gd2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2I7XG59KTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uICh0YXJnZXQsIHBhcmVudCkge1xuICBpZiAocGFyZW50KXtcbiAgICByZXR1cm4gcGFyZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcbiAgfVxuICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xufTtcblxudmFyIGdldEVsZW1lbnQgPSAoZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vID0ge307XG5cblx0cmV0dXJuIGZ1bmN0aW9uKHRhcmdldCwgcGFyZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgcGFzc2luZyBmdW5jdGlvbiBpbiBvcHRpb25zLCB0aGVuIHVzZSBpdCBmb3IgcmVzb2x2ZSBcImhlYWRcIiBlbGVtZW50LlxuICAgICAgICAgICAgICAgIC8vIFVzZWZ1bCBmb3IgU2hhZG93IFJvb3Qgc3R5bGUgaS5lXG4gICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgIC8vICAgaW5zZXJ0SW50bzogZnVuY3Rpb24gKCkgeyByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmb29cIikuc2hhZG93Um9vdCB9XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHR2YXIgc3R5bGVUYXJnZXQgPSBnZXRUYXJnZXQuY2FsbCh0aGlzLCB0YXJnZXQsIHBhcmVudCk7XG5cdFx0XHQvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXHRcdFx0aWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG5cdFx0XHRcdFx0Ly8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuXHRcdFx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IG51bGw7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuXHRcdH1cblx0XHRyZXR1cm4gbWVtb1t0YXJnZXRdXG5cdH07XG59KSgpO1xuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhclx0c2luZ2xldG9uQ291bnRlciA9IDA7XG52YXJcdHN0eWxlc0luc2VydGVkQXRUb3AgPSBbXTtcblxudmFyXHRmaXhVcmxzID0gcmVxdWlyZShcIi4vdXJsc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XG5cdGlmICh0eXBlb2YgREVCVUcgIT09IFwidW5kZWZpbmVkXCIgJiYgREVCVUcpIHtcblx0XHRpZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XG5cdH1cblxuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHRvcHRpb25zLmF0dHJzID0gdHlwZW9mIG9wdGlvbnMuYXR0cnMgPT09IFwib2JqZWN0XCIgPyBvcHRpb25zLmF0dHJzIDoge307XG5cblx0Ly8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG5cdC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2Vcblx0aWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09IFwiYm9vbGVhblwiKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSA8aGVhZD4gZWxlbWVudFxuICAgICAgICBpZiAoIW9wdGlvbnMuaW5zZXJ0SW50bykgb3B0aW9ucy5pbnNlcnRJbnRvID0gXCJoZWFkXCI7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIHRoZSB0YXJnZXRcblx0aWYgKCFvcHRpb25zLmluc2VydEF0KSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcblxuXHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QsIG9wdGlvbnMpO1xuXG5cdGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucyk7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZSAobmV3TGlzdCkge1xuXHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0XHRkb21TdHlsZS5yZWZzLS07XG5cdFx0XHRtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XG5cdFx0fVxuXG5cdFx0aWYobmV3TGlzdCkge1xuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0LCBvcHRpb25zKTtcblx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XG5cdFx0fVxuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcblxuXHRcdFx0aWYoZG9tU3R5bGUucmVmcyA9PT0gMCkge1xuXHRcdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSBkb21TdHlsZS5wYXJ0c1tqXSgpO1xuXG5cdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufTtcblxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20gKHN0eWxlcywgb3B0aW9ucykge1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0aWYoZG9tU3R5bGUpIHtcblx0XHRcdGRvbVN0eWxlLnJlZnMrKztcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHBhcnRzID0gW107XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXG5cdFx0XHRzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtpZDogaXRlbS5pZCwgcmVmczogMSwgcGFydHM6IHBhcnRzfTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gbGlzdFRvU3R5bGVzIChsaXN0LCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZXMgPSBbXTtcblx0dmFyIG5ld1N0eWxlcyA9IHt9O1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gbGlzdFtpXTtcblx0XHR2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcblx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xuXHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcblxuXHRcdGlmKCFuZXdTdHlsZXNbaWRdKSBzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xuXHRcdGVsc2UgbmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xuXHR9XG5cblx0cmV0dXJuIHN0eWxlcztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50IChvcHRpb25zLCBzdHlsZSkge1xuXHR2YXIgdGFyZ2V0ID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEludG8pXG5cblx0aWYgKCF0YXJnZXQpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydEludG8nIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcblx0fVxuXG5cdHZhciBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCA9IHN0eWxlc0luc2VydGVkQXRUb3Bbc3R5bGVzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcblxuXHRpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xuXHRcdGlmICghbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIHRhcmdldC5maXJzdENoaWxkKTtcblx0XHR9IGVsc2UgaWYgKGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdFx0fVxuXHRcdHN0eWxlc0luc2VydGVkQXRUb3AucHVzaChzdHlsZSk7XG5cdH0gZWxzZSBpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJib3R0b21cIikge1xuXHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwib2JqZWN0XCIgJiYgb3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUpIHtcblx0XHR2YXIgbmV4dFNpYmxpbmcgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlLCB0YXJnZXQpO1xuXHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIG5leHRTaWJsaW5nKTtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJbU3R5bGUgTG9hZGVyXVxcblxcbiBJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0JyAoJ29wdGlvbnMuaW5zZXJ0QXQnKSBmb3VuZC5cXG4gTXVzdCBiZSAndG9wJywgJ2JvdHRvbScsIG9yIE9iamVjdC5cXG4gKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyI2luc2VydGF0KVxcblwiKTtcblx0fVxufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQgKHN0eWxlKSB7XG5cdGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cdHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xuXG5cdHZhciBpZHggPSBzdHlsZXNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGUpO1xuXHRpZihpZHggPj0gMCkge1xuXHRcdHN0eWxlc0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcblxuXHRpZihvcHRpb25zLmF0dHJzLnR5cGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0fVxuXG5cdGlmKG9wdGlvbnMuYXR0cnMubm9uY2UgPT09IHVuZGVmaW5lZCkge1xuXHRcdHZhciBub25jZSA9IGdldE5vbmNlKCk7XG5cdFx0aWYgKG5vbmNlKSB7XG5cdFx0XHRvcHRpb25zLmF0dHJzLm5vbmNlID0gbm9uY2U7XG5cdFx0fVxuXHR9XG5cblx0YWRkQXR0cnMoc3R5bGUsIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGUpO1xuXG5cdHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTGlua0VsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcblxuXHRpZihvcHRpb25zLmF0dHJzLnR5cGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0fVxuXHRvcHRpb25zLmF0dHJzLnJlbCA9IFwic3R5bGVzaGVldFwiO1xuXG5cdGFkZEF0dHJzKGxpbmssIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGluayk7XG5cblx0cmV0dXJuIGxpbms7XG59XG5cbmZ1bmN0aW9uIGFkZEF0dHJzIChlbCwgYXR0cnMpIHtcblx0T2JqZWN0LmtleXMoYXR0cnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdGVsLnNldEF0dHJpYnV0ZShrZXksIGF0dHJzW2tleV0pO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gZ2V0Tm9uY2UoKSB7XG5cdGlmICh0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRyZXR1cm4gX193ZWJwYWNrX25vbmNlX187XG59XG5cbmZ1bmN0aW9uIGFkZFN0eWxlIChvYmosIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlLCB1cGRhdGUsIHJlbW92ZSwgcmVzdWx0O1xuXG5cdC8vIElmIGEgdHJhbnNmb3JtIGZ1bmN0aW9uIHdhcyBkZWZpbmVkLCBydW4gaXQgb24gdGhlIGNzc1xuXHRpZiAob3B0aW9ucy50cmFuc2Zvcm0gJiYgb2JqLmNzcykge1xuXHQgICAgcmVzdWx0ID0gdHlwZW9mIG9wdGlvbnMudHJhbnNmb3JtID09PSAnZnVuY3Rpb24nXG5cdFx0ID8gb3B0aW9ucy50cmFuc2Zvcm0ob2JqLmNzcykgXG5cdFx0IDogb3B0aW9ucy50cmFuc2Zvcm0uZGVmYXVsdChvYmouY3NzKTtcblxuXHQgICAgaWYgKHJlc3VsdCkge1xuXHQgICAgXHQvLyBJZiB0cmFuc2Zvcm0gcmV0dXJucyBhIHZhbHVlLCB1c2UgdGhhdCBpbnN0ZWFkIG9mIHRoZSBvcmlnaW5hbCBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIHJ1bm5pbmcgcnVudGltZSB0cmFuc2Zvcm1hdGlvbnMgb24gdGhlIGNzcy5cblx0ICAgIFx0b2JqLmNzcyA9IHJlc3VsdDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICBcdC8vIElmIHRoZSB0cmFuc2Zvcm0gZnVuY3Rpb24gcmV0dXJucyBhIGZhbHN5IHZhbHVlLCBkb24ndCBhZGQgdGhpcyBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIGNvbmRpdGlvbmFsIGxvYWRpbmcgb2YgY3NzXG5cdCAgICBcdHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgIFx0XHQvLyBub29wXG5cdCAgICBcdH07XG5cdCAgICB9XG5cdH1cblxuXHRpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcblx0XHR2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcblxuXHRcdHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuXG5cdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG5cdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcblxuXHR9IGVsc2UgaWYgKFxuXHRcdG9iai5zb3VyY2VNYXAgJiZcblx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiXG5cdCkge1xuXHRcdHN0eWxlID0gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXG5cdFx0XHRpZihzdHlsZS5ocmVmKSBVUkwucmV2b2tlT2JqZWN0VVJMKHN0eWxlLmhyZWYpO1xuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXHRcdH07XG5cdH1cblxuXHR1cGRhdGUob2JqKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUgKG5ld09iaikge1xuXHRcdGlmIChuZXdPYmopIHtcblx0XHRcdGlmIChcblx0XHRcdFx0bmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJlxuXHRcdFx0XHRuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJlxuXHRcdFx0XHRuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwXG5cdFx0XHQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVtb3ZlKCk7XG5cdFx0fVxuXHR9O1xufVxuXG52YXIgcmVwbGFjZVRleHQgPSAoZnVuY3Rpb24gKCkge1xuXHR2YXIgdGV4dFN0b3JlID0gW107XG5cblx0cmV0dXJuIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQpIHtcblx0XHR0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG5cblx0XHRyZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcblx0fTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcgKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcblx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xuXG5cdGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG5cdH0gZWxzZSB7XG5cdFx0dmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuXHRcdHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuXHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG5cdFx0XHRzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyAoc3R5bGUsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuXG5cdGlmKG1lZGlhKSB7XG5cdFx0c3R5bGUuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpXG5cdH1cblxuXHRpZihzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuXHR9IGVsc2Uge1xuXHRcdHdoaWxlKHN0eWxlLmZpcnN0Q2hpbGQpIHtcblx0XHRcdHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuXHRcdH1cblxuXHRcdHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUxpbmsgKGxpbmssIG9wdGlvbnMsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cblx0Lypcblx0XHRJZiBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgaXNuJ3QgZGVmaW5lZCwgYnV0IHNvdXJjZW1hcHMgYXJlIGVuYWJsZWRcblx0XHRhbmQgdGhlcmUgaXMgbm8gcHVibGljUGF0aCBkZWZpbmVkIHRoZW4gbGV0cyB0dXJuIGNvbnZlcnRUb0Fic29sdXRlVXJsc1xuXHRcdG9uIGJ5IGRlZmF1bHQuICBPdGhlcndpc2UgZGVmYXVsdCB0byB0aGUgY29udmVydFRvQWJzb2x1dGVVcmxzIG9wdGlvblxuXHRcdGRpcmVjdGx5XG5cdCovXG5cdHZhciBhdXRvRml4VXJscyA9IG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzID09PSB1bmRlZmluZWQgJiYgc291cmNlTWFwO1xuXG5cdGlmIChvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyB8fCBhdXRvRml4VXJscykge1xuXHRcdGNzcyA9IGZpeFVybHMoY3NzKTtcblx0fVxuXG5cdGlmIChzb3VyY2VNYXApIHtcblx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxuXHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcblx0fVxuXG5cdHZhciBibG9iID0gbmV3IEJsb2IoW2Nzc10sIHsgdHlwZTogXCJ0ZXh0L2Nzc1wiIH0pO1xuXG5cdHZhciBvbGRTcmMgPSBsaW5rLmhyZWY7XG5cblx0bGluay5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblxuXHRpZihvbGRTcmMpIFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcbn1cbiIsIlxuLyoqXG4gKiBXaGVuIHNvdXJjZSBtYXBzIGFyZSBlbmFibGVkLCBgc3R5bGUtbG9hZGVyYCB1c2VzIGEgbGluayBlbGVtZW50IHdpdGggYSBkYXRhLXVyaSB0b1xuICogZW1iZWQgdGhlIGNzcyBvbiB0aGUgcGFnZS4gVGhpcyBicmVha3MgYWxsIHJlbGF0aXZlIHVybHMgYmVjYXVzZSBub3cgdGhleSBhcmUgcmVsYXRpdmUgdG8gYVxuICogYnVuZGxlIGluc3RlYWQgb2YgdGhlIGN1cnJlbnQgcGFnZS5cbiAqXG4gKiBPbmUgc29sdXRpb24gaXMgdG8gb25seSB1c2UgZnVsbCB1cmxzLCBidXQgdGhhdCBtYXkgYmUgaW1wb3NzaWJsZS5cbiAqXG4gKiBJbnN0ZWFkLCB0aGlzIGZ1bmN0aW9uIFwiZml4ZXNcIiB0aGUgcmVsYXRpdmUgdXJscyB0byBiZSBhYnNvbHV0ZSBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgcGFnZSBsb2NhdGlvbi5cbiAqXG4gKiBBIHJ1ZGltZW50YXJ5IHRlc3Qgc3VpdGUgaXMgbG9jYXRlZCBhdCBgdGVzdC9maXhVcmxzLmpzYCBhbmQgY2FuIGJlIHJ1biB2aWEgdGhlIGBucG0gdGVzdGAgY29tbWFuZC5cbiAqXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzKSB7XG4gIC8vIGdldCBjdXJyZW50IGxvY2F0aW9uXG4gIHZhciBsb2NhdGlvbiA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LmxvY2F0aW9uO1xuXG4gIGlmICghbG9jYXRpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJmaXhVcmxzIHJlcXVpcmVzIHdpbmRvdy5sb2NhdGlvblwiKTtcbiAgfVxuXG5cdC8vIGJsYW5rIG9yIG51bGw/XG5cdGlmICghY3NzIHx8IHR5cGVvZiBjc3MgIT09IFwic3RyaW5nXCIpIHtcblx0ICByZXR1cm4gY3NzO1xuICB9XG5cbiAgdmFyIGJhc2VVcmwgPSBsb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIiArIGxvY2F0aW9uLmhvc3Q7XG4gIHZhciBjdXJyZW50RGlyID0gYmFzZVVybCArIGxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoL1xcL1teXFwvXSokLywgXCIvXCIpO1xuXG5cdC8vIGNvbnZlcnQgZWFjaCB1cmwoLi4uKVxuXHQvKlxuXHRUaGlzIHJlZ3VsYXIgZXhwcmVzc2lvbiBpcyBqdXN0IGEgd2F5IHRvIHJlY3Vyc2l2ZWx5IG1hdGNoIGJyYWNrZXRzIHdpdGhpblxuXHRhIHN0cmluZy5cblxuXHQgL3VybFxccypcXCggID0gTWF0Y2ggb24gdGhlIHdvcmQgXCJ1cmxcIiB3aXRoIGFueSB3aGl0ZXNwYWNlIGFmdGVyIGl0IGFuZCB0aGVuIGEgcGFyZW5zXG5cdCAgICggID0gU3RhcnQgYSBjYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAoPzogID0gU3RhcnQgYSBub24tY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgICAgIFteKShdICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAoPzogID0gU3RhcnQgYW5vdGhlciBub24tY2FwdHVyaW5nIGdyb3Vwc1xuXHQgICAgICAgICAgICAgICAgIFteKShdKyAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICAgICAgW14pKF0qICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIFxcKSAgPSBNYXRjaCBhIGVuZCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKSAgPSBFbmQgR3JvdXBcbiAgICAgICAgICAgICAgKlxcKSA9IE1hdGNoIGFueXRoaW5nIGFuZCB0aGVuIGEgY2xvc2UgcGFyZW5zXG4gICAgICAgICAgKSAgPSBDbG9zZSBub24tY2FwdHVyaW5nIGdyb3VwXG4gICAgICAgICAgKiAgPSBNYXRjaCBhbnl0aGluZ1xuICAgICAgICkgID0gQ2xvc2UgY2FwdHVyaW5nIGdyb3VwXG5cdCBcXCkgID0gTWF0Y2ggYSBjbG9zZSBwYXJlbnNcblxuXHQgL2dpICA9IEdldCBhbGwgbWF0Y2hlcywgbm90IHRoZSBmaXJzdC4gIEJlIGNhc2UgaW5zZW5zaXRpdmUuXG5cdCAqL1xuXHR2YXIgZml4ZWRDc3MgPSBjc3MucmVwbGFjZSgvdXJsXFxzKlxcKCgoPzpbXikoXXxcXCgoPzpbXikoXSt8XFwoW14pKF0qXFwpKSpcXCkpKilcXCkvZ2ksIGZ1bmN0aW9uKGZ1bGxNYXRjaCwgb3JpZ1VybCkge1xuXHRcdC8vIHN0cmlwIHF1b3RlcyAoaWYgdGhleSBleGlzdClcblx0XHR2YXIgdW5xdW90ZWRPcmlnVXJsID0gb3JpZ1VybFxuXHRcdFx0LnRyaW0oKVxuXHRcdFx0LnJlcGxhY2UoL15cIiguKilcIiQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSlcblx0XHRcdC5yZXBsYWNlKC9eJyguKiknJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KTtcblxuXHRcdC8vIGFscmVhZHkgYSBmdWxsIHVybD8gbm8gY2hhbmdlXG5cdFx0aWYgKC9eKCN8ZGF0YTp8aHR0cDpcXC9cXC98aHR0cHM6XFwvXFwvfGZpbGU6XFwvXFwvXFwvfFxccyokKS9pLnRlc3QodW5xdW90ZWRPcmlnVXJsKSkge1xuXHRcdCAgcmV0dXJuIGZ1bGxNYXRjaDtcblx0XHR9XG5cblx0XHQvLyBjb252ZXJ0IHRoZSB1cmwgdG8gYSBmdWxsIHVybFxuXHRcdHZhciBuZXdVcmw7XG5cblx0XHRpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvL1wiKSA9PT0gMCkge1xuXHRcdCAgXHQvL1RPRE86IHNob3VsZCB3ZSBhZGQgcHJvdG9jb2w/XG5cdFx0XHRuZXdVcmwgPSB1bnF1b3RlZE9yaWdVcmw7XG5cdFx0fSBlbHNlIGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi9cIikgPT09IDApIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBiYXNlIHVybFxuXHRcdFx0bmV3VXJsID0gYmFzZVVybCArIHVucXVvdGVkT3JpZ1VybDsgLy8gYWxyZWFkeSBzdGFydHMgd2l0aCAnLydcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gY3VycmVudCBkaXJlY3Rvcnlcblx0XHRcdG5ld1VybCA9IGN1cnJlbnREaXIgKyB1bnF1b3RlZE9yaWdVcmwucmVwbGFjZSgvXlxcLlxcLy8sIFwiXCIpOyAvLyBTdHJpcCBsZWFkaW5nICcuLydcblx0XHR9XG5cblx0XHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIHVybCguLi4pXG5cdFx0cmV0dXJuIFwidXJsKFwiICsgSlNPTi5zdHJpbmdpZnkobmV3VXJsKSArIFwiKVwiO1xuXHR9KTtcblxuXHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIGNzc1xuXHRyZXR1cm4gZml4ZWRDc3M7XG59O1xuIiwiZXhwb3J0IGRlZmF1bHQge1xyXG4gIHZpZXc6IHtcclxuICAgIHg6IC0wLjUsXHJcbiAgICB5OiAwLFxyXG4gICAgem9vbTogM1xyXG4gIH0sXHJcblxyXG4gIHVpOiB7fSxcclxuICByZXNvbHV0aW9uOiAwLjUsXHJcbiAgaXRlcmF0aW9uczogNTAsXHJcbiAgZGl2ZXJnZW5jZTogMTUsXHJcbiAgd2ViZ2w6ICFmYWxzZSxcclxuICBhbmltYXRlOiBmYWxzZSxcclxuXHJcbiAgZmx5aW5nOiBmYWxzZSxcclxuICB0aW1lOiAwXHJcbn07XHJcbiIsImNvbnN0IFBSRUNPTVBVVEFUSU9OX0lURVJBVElPTlMgPSAxMDAwMDtcclxuXHJcbmNvbnN0IHByZWNvbXB1dGVkQ3ljbGUgPSBbXTtcclxuXHJcbmNvbnN0IHByZWNvbXB1dGVDeWNsZUlmTmVlZGVkID0gKCkgPT4ge1xyXG4gIGlmIChwcmVjb21wdXRlZEN5Y2xlLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IFBSRUNPTVBVVEFUSU9OX0lURVJBVElPTlM7IGluZGV4KyspIHtcclxuICAgICAgY29uc3QgdGhldGEgPSAyLjAgKiBNYXRoLlBJICogKGluZGV4IC8gUFJFQ09NUFVUQVRJT05fSVRFUkFUSU9OUyk7XHJcblxyXG4gICAgICBwcmVjb21wdXRlZEN5Y2xlLnB1c2goTWF0aC5zaW4odGhldGEpKTtcclxuICAgIH1cclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgbGVycCA9IChhLCBiLCB0aW1lKSA9PiB7XHJcbiAgcmV0dXJuIChiIC0gYSkgKiB0aW1lICsgcGFyc2VGbG9hdChhLCAxMCk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZWFzZU91dEN1YmljID0gdGltZSA9PiB7XHJcbiAgdGltZS0tO1xyXG5cclxuICByZXR1cm4gdGltZSAqIHRpbWUgKiB0aW1lICsgMTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBlYXNlSW5PdXRDdWJpYyA9ICh0aW1lLCBkdXJhdGlvbikgPT4ge1xyXG4gIGNvbnN0IGMgPSAxO1xyXG5cclxuICB0aW1lIC89IGR1cmF0aW9uIC8gMjtcclxuXHJcbiAgaWYgKHRpbWUgPCAxKSByZXR1cm4gKGMgLyAyKSAqIHRpbWUgKiB0aW1lICogdGltZTtcclxuXHJcbiAgdGltZSAtPSAyO1xyXG5cclxuICByZXR1cm4gKGMgLyAyKSAqICh0aW1lICogdGltZSAqIHRpbWUgKyAyKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBzaW4gPSBwaGFzZSA9PiB7XHJcbiAgcHJlY29tcHV0ZUN5Y2xlSWZOZWVkZWQoKTtcclxuXHJcbiAgY29uc3Qgc2luZUxvb2t1cCA9XHJcbiAgICBwYXJzZUludCgocGhhc2UgKiBQUkVDT01QVVRBVElPTl9JVEVSQVRJT05TKSAvICgyLjAgKiBNYXRoLlBJKSwgMTApICVcclxuICAgIFBSRUNPTVBVVEFUSU9OX0lURVJBVElPTlM7XHJcblxyXG4gIHJldHVybiBwcmVjb21wdXRlZEN5Y2xlW3NpbmVMb29rdXBdO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNvcyA9IHBoYXNlID0+IHtcclxuICBwcmVjb21wdXRlQ3ljbGVJZk5lZWRlZCgpO1xyXG5cclxuICBjb25zdCBjb3NpbmVMb29wdXAgPVxyXG4gICAgcGFyc2VJbnQoXHJcbiAgICAgICgocGhhc2UgKyBNYXRoLlBJICogMC41KSAqIFBSRUNPTVBVVEFUSU9OX0lURVJBVElPTlMpIC8gKDIuMCAqIE1hdGguUEkpLFxyXG4gICAgICAxMFxyXG4gICAgKSAlIFBSRUNPTVBVVEFUSU9OX0lURVJBVElPTlM7XHJcblxyXG4gIHJldHVybiBwcmVjb21wdXRlZEN5Y2xlW2Nvc2luZUxvb3B1cF07XHJcbn07XHJcbiIsImltcG9ydCAqIGFzIEhlbHBlcnMgZnJvbSBcIi4vaGVscGVyc1wiO1xyXG5cclxuZXhwb3J0IGNvbnN0IHpvb20gPSAodmlldywgZnJhY1gsIGZyYWNZLCBmYWN0b3IsIGFzcGVjdFJhdGlvKSA9PiB7XHJcbiAgZnJhY1ggLT0gMC41O1xyXG4gIGZyYWNZIC09IDAuNTtcclxuXHJcbiAgY29uc3QgbWFwV2lkdGggPSB6b29tV2lkdGgodmlldykgKiBhc3BlY3RSYXRpbztcclxuICBjb25zdCBtYXBIZWlnaHQgPSB6b29tSGVpZ2h0KHZpZXcpO1xyXG5cclxuICBjb25zdCBuZXdab29tID0gdmlldy56b29tICogZmFjdG9yO1xyXG5cclxuICBjb25zdCBuZXdNYXBXaWR0aCA9IG5ld1pvb20gKiBhc3BlY3RSYXRpbztcclxuICBjb25zdCBuZXdNYXBIZWlnaHQgPSBuZXdab29tO1xyXG5cclxuICBjb25zdCB4ID0gdmlldy54IC0gZnJhY1ggKiAobmV3TWFwV2lkdGggLSBtYXBXaWR0aCk7XHJcbiAgY29uc3QgeSA9IHZpZXcueSAtIGZyYWNZICogKG5ld01hcEhlaWdodCAtIG1hcEhlaWdodCk7XHJcbiAgY29uc3Qgem9vbSA9IG5ld1pvb207XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICB4LFxyXG4gICAgeSxcclxuICAgIHpvb21cclxuICB9O1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHRyYW5zbGF0ZSA9ICh2aWV3LCBmcmFjWCwgZnJhY1ksIGFzcGVjdFJhdGlvKSA9PiB7XHJcbiAgY29uc3QgZHcgPSB6b29tV2lkdGgodmlldykgKiBhc3BlY3RSYXRpbztcclxuICBjb25zdCBkaCA9IHpvb21IZWlnaHQodmlldyk7XHJcblxyXG4gIGNvbnN0IHggPSB2aWV3LnggKyBmcmFjWCAqIGR3O1xyXG4gIGNvbnN0IHkgPSB2aWV3LnkgKyBmcmFjWSAqIGRoO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgeCxcclxuICAgIHksXHJcbiAgICB6b29tOiB2aWV3Lnpvb21cclxuICB9O1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGludGVycG9sYXRlID0gKGZyb21Eb21haW4sIHRvRG9tYWluLCBmcmFjKSA9PiB7XHJcbiAgY29uc3QgeCA9IEhlbHBlcnMubGVycChmcm9tRG9tYWluLngsIHRvRG9tYWluLngsIGZyYWMpO1xyXG4gIGNvbnN0IHkgPSBIZWxwZXJzLmxlcnAoZnJvbURvbWFpbi55LCB0b0RvbWFpbi55LCBmcmFjKTtcclxuICBjb25zdCB6b29tID0gSGVscGVycy5sZXJwKGZyb21Eb21haW4uem9vbSwgdG9Eb21haW4uem9vbSwgZnJhYyk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICB4LFxyXG4gICAgeSxcclxuICAgIHpvb21cclxuICB9O1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGFzcGVjdFJhdGlvID0gKCkgPT4ge1xyXG4gIHJldHVybiBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoIC8gZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQ7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3Qgem9vbVdpZHRoID0gdmlldyA9PiB7XHJcbiAgcmV0dXJuIHZpZXcuem9vbTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB6b29tSGVpZ2h0ID0gdmlldyA9PiB7XHJcbiAgcmV0dXJuIHZpZXcuem9vbTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBpZGVudGl0eSA9ICgpID0+IHtcclxuICByZXR1cm4ge1xyXG4gICAgeDogLTAuNSxcclxuICAgIHk6IDAsXHJcbiAgICB6b29tOiAzXHJcbiAgfTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBpc0lkZW50aXR5ID0gdmlldyA9PiB7XHJcbiAgY29uc3QgaSA9IGlkZW50aXR5KCk7XHJcblxyXG4gIHJldHVybiB2aWV3LnggPT09IGkueCAmJiB2aWV3LnkgPT09IGkueSAmJiB2aWV3Lnpvb20gPT09IGkuem9vbTtcclxufTtcclxuIiwibGV0IHF1YWRCdWZmZXIgPSBudWxsO1xyXG5sZXQgbWFuZGVsYnJvdFByb2dyYW0gPSBudWxsO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUNvbnRleHQgPSAoY2FudmFzLCBpdGVyYXRpb25zKSA9PiB7XHJcbiAgdmFyIGdsID0gY2FudmFzLmdldENvbnRleHQoXCJ3ZWJnbFwiKTtcclxuXHJcbiAgcXVhZEJ1ZmZlciA9IGNyZWF0ZVF1YWRCdWZmZXIoZ2wpO1xyXG5cclxuICBtYW5kZWxicm90UHJvZ3JhbSA9IGNyZWF0ZU1hbmRlbGJyb3RQcm9ncmFtKGdsLCBpdGVyYXRpb25zKTtcclxuXHJcbiAgcmV0dXJuIGdsO1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlUXVhZEJ1ZmZlciA9IGdsID0+IHtcclxuICBjb25zdCBwb3NpdGlvbkJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xyXG5cclxuICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgcG9zaXRpb25CdWZmZXIpO1xyXG5cclxuICBnbC5idWZmZXJEYXRhKFxyXG4gICAgZ2wuQVJSQVlfQlVGRkVSLFxyXG4gICAgbmV3IEZsb2F0MzJBcnJheShbLTEuMCwgMS4wLCAxLjAsIDEuMCwgLTEuMCwgLTEuMCwgMS4wLCAtMS4wXSksXHJcbiAgICBnbC5TVEFUSUNfRFJBV1xyXG4gICk7XHJcblxyXG4gIHJldHVybiBwb3NpdGlvbkJ1ZmZlcjtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZVNoYWRlciA9IChnbCwgdHlwZSwgc291cmNlKSA9PiB7XHJcbiAgY29uc3Qgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKHR5cGUpO1xyXG5cclxuICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzb3VyY2UpO1xyXG5cclxuICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XHJcblxyXG4gIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKSB7XHJcbiAgICBnbC5kZWxldGVTaGFkZXIoc2hhZGVyKTtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHNoYWRlcjtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZU1hbmRlbGJyb3RQcm9ncmFtID0gKGdsLCBpdGVyYXRpb25zKSA9PiB7XHJcbiAgY29uc3QgdmVydGV4U3JjID0gYFxyXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XHJcblxyXG5hdHRyaWJ1dGUgdmVjMiB2ZXJ0ZXhQb3NpdGlvbjtcclxuXHJcbnZhcnlpbmcgdmVjMiB2VVY7IFxyXG5cclxudm9pZCBtYWluKCkge1xyXG5cclxuICAgIGZsb2F0IHggPSB2ZXJ0ZXhQb3NpdGlvbi54O1xyXG4gICAgZmxvYXQgeSA9IHZlcnRleFBvc2l0aW9uLnk7XHJcblxyXG4gICAgdlVWID0gdmVjMih4LCAteSkgKiAwLjUgKyB2ZWMyKDAuNSwgMC41KTtcclxuICAgIGdsX1Bvc2l0aW9uID0gIHZlYzQodmVydGV4UG9zaXRpb24ueHksIDAuMCwgMS4wKTtcclxufVxyXG5gO1xyXG4gIGNvbnN0IGZyYWdtZW50U3JjID0gYFxyXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XHJcblxyXG51bmlmb3JtIHZlYzQgdmlldztcclxudW5pZm9ybSB2ZWMyIHNjcmVlbjtcclxudW5pZm9ybSBmbG9hdCBwaGFzZTtcclxudmFyeWluZyB2ZWMyIHZVVjsgIFxyXG5cclxuI2RlZmluZSBJVEVSQVRJT05TICR7aXRlcmF0aW9ucy50b0ZpeGVkKDIpfVxyXG5cclxudmVjNCBnZXRDb2xvcihmbG9hdCB0KSB7XHJcbiAgICBcclxuICAgIHJldHVybiB2ZWM0KFxyXG4gICAgICAgIChjb3ModCkgKyAxLjApICogMC41LFxyXG4gICAgICAgIChzaW4odCArIDMuMTQxNSkgKyAxLjApICogMC41LFxyXG4gICAgICAgIChzaW4odCkgKyAxLjApICogMC41LFxyXG4gICAgICAgIDEuMFxyXG4gICAgKTtcclxufVxyXG5cclxudm9pZCBtYWluKCkge1xyXG5cclxuICAgIHZlYzQgY29sb3IgPSB2ZWM0KDAuMCwwLjAsMC4wLDEuMCk7IFxyXG5cclxuICAgIGZsb2F0IENPTVB4ID0gMC4wO1xyXG4gICAgZmxvYXQgQ09NUHkgPSAwLjA7XHJcbiAgICBmbG9hdCB6ID0gMC4wO1xyXG5cclxuICAgIGZsb2F0IHpvb20gPSB2aWV3Lno7XHJcbiAgICBmbG9hdCB3aWR0aCA9IHpvb20gKiB2aWV3Lnc7XHJcbiAgICBmbG9hdCBoZWlnaHQgPSB6b29tO1xyXG4gICAgXHJcbiAgICBmbG9hdCBsZWZ0ID0gdmlldy54IC0gd2lkdGggKiAwLjU7XHJcbiAgICBmbG9hdCB0b3AgPSB2aWV3LnkgLSBoZWlnaHQgKiAwLjU7ICBcclxuXHJcbiAgICBmbG9hdCBmYWN0b3JYID0gd2lkdGggLyAxLjA7XHJcbiAgICBmbG9hdCBmYWN0b3JZID0gaGVpZ2h0IC8gMS4wO1xyXG5cclxuICAgZm9yKGZsb2F0IGkgPSAwLjA7IGkgPCAxLjA7IGkgKz0gKDEuMCAvIElURVJBVElPTlMpKSB7XHJcblxyXG4gICAgICAgIGZsb2F0IHggPSAodlVWLnggKiBmYWN0b3JYKSArIGxlZnQ7XHJcbiAgICAgICAgZmxvYXQgeSA9ICh2VVYueSAqIGZhY3RvclkpICsgdG9wO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGZsb2F0IENPTVB4X25ldyA9IENPTVB4ICogQ09NUHggLSBDT01QeSAqIENPTVB5ICsgeDtcclxuICAgICAgICBmbG9hdCBDT01QeV9uZXcgPSAyLjAgKiBDT01QeCAqIENPTVB5ICsgeTtcclxuICAgICAgICBmbG9hdCB6TiA9IChDT01QeF9uZXcgKyBDT01QeV9uZXcpO1xyXG5cclxuICAgICAgICBpZiAoYWJzKHpOIC0geikgPiA1LjApIHtcclxuICAgICAgICAgICAgY29sb3IgPSBnZXRDb2xvcihpICogMTAuMCArIHBoYXNlKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBDT01QeCA9IENPTVB4X25ldztcclxuICAgICAgICBDT01QeSA9IENPTVB5X25ldztcclxuICAgICAgICB6ID0gek47XHJcbiAgICB9XHJcblxyXG4gICAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7XHJcbn1cclxuYDtcclxuXHJcbiAgY29uc3QgdmVydGV4U2hhZGVyID0gY3JlYXRlU2hhZGVyKGdsLCBnbC5WRVJURVhfU0hBREVSLCB2ZXJ0ZXhTcmMpO1xyXG4gIGNvbnN0IGZyYWdtZW50U2hhZGVyID0gY3JlYXRlU2hhZGVyKGdsLCBnbC5GUkFHTUVOVF9TSEFERVIsIGZyYWdtZW50U3JjKTtcclxuXHJcbiAgY29uc3Qgc2hhZGVyUHJvZ3JhbSA9IGdsLmNyZWF0ZVByb2dyYW0oKTtcclxuICBnbC5hdHRhY2hTaGFkZXIoc2hhZGVyUHJvZ3JhbSwgdmVydGV4U2hhZGVyKTtcclxuICBnbC5hdHRhY2hTaGFkZXIoc2hhZGVyUHJvZ3JhbSwgZnJhZ21lbnRTaGFkZXIpO1xyXG4gIGdsLmxpbmtQcm9ncmFtKHNoYWRlclByb2dyYW0pO1xyXG5cclxuICBpZiAoIWdsLmdldFByb2dyYW1QYXJhbWV0ZXIoc2hhZGVyUHJvZ3JhbSwgZ2wuTElOS19TVEFUVVMpKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgcHJvZ3JhbTogc2hhZGVyUHJvZ3JhbSxcclxuICAgIGF0dHJpYkxvY2F0aW9uczoge1xyXG4gICAgICB2ZXJ0ZXhQb3NpdGlvbjogZ2wuZ2V0QXR0cmliTG9jYXRpb24oc2hhZGVyUHJvZ3JhbSwgXCJ2ZXJ0ZXhQb3NpdGlvblwiKVxyXG4gICAgfSxcclxuICAgIHVuaWZvcm1Mb2NhdGlvbnM6IHtcclxuICAgICAgdmlldzogZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHNoYWRlclByb2dyYW0sIFwidmlld1wiKSxcclxuICAgICAgc2NyZWVuOiBnbC5nZXRVbmlmb3JtTG9jYXRpb24oc2hhZGVyUHJvZ3JhbSwgXCJzY3JlZW5cIiksXHJcbiAgICAgIHBoYXNlOiBnbC5nZXRVbmlmb3JtTG9jYXRpb24oc2hhZGVyUHJvZ3JhbSwgXCJwaGFzZVwiKVxyXG4gICAgfVxyXG4gIH07XHJcbn07XHJcblxyXG5jb25zdCBiaW5kTWFuZGVsYnJvdFByb2dyYW0gPSAoZ2wsIHN0YXRlLCBhc3BlY3RSYXRpbykgPT4ge1xyXG4gIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBxdWFkQnVmZmVyKTtcclxuICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKFxyXG4gICAgbWFuZGVsYnJvdFByb2dyYW0uYXR0cmliTG9jYXRpb25zLnZlcnRleFBvc2l0aW9uLFxyXG4gICAgMixcclxuICAgIGdsLkZMT0FULFxyXG4gICAgZmFsc2UsXHJcbiAgICAwLFxyXG4gICAgMFxyXG4gICk7XHJcbiAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkobWFuZGVsYnJvdFByb2dyYW0uYXR0cmliTG9jYXRpb25zLnZlcnRleFBvc2l0aW9uKTtcclxuXHJcbiAgZ2wudXNlUHJvZ3JhbShtYW5kZWxicm90UHJvZ3JhbS5wcm9ncmFtKTtcclxuXHJcbiAgZ2wudW5pZm9ybTRmdihtYW5kZWxicm90UHJvZ3JhbS51bmlmb3JtTG9jYXRpb25zLnZpZXcsIFtcclxuICAgIHN0YXRlLnZpZXcueCxcclxuICAgIHN0YXRlLnZpZXcueSxcclxuICAgIHN0YXRlLnZpZXcuem9vbSxcclxuICAgIGFzcGVjdFJhdGlvXHJcbiAgXSk7XHJcblxyXG4gIGdsLnVuaWZvcm0yZnYobWFuZGVsYnJvdFByb2dyYW0udW5pZm9ybUxvY2F0aW9ucy5zY3JlZW4sIFtcclxuICAgIGdsLmNhbnZhcy53aWR0aCxcclxuICAgIGdsLmNhbnZhcy5oZWlnaHRcclxuICBdKTtcclxuXHJcbiAgZ2wudW5pZm9ybTFmKG1hbmRlbGJyb3RQcm9ncmFtLnVuaWZvcm1Mb2NhdGlvbnMucGhhc2UsIHN0YXRlLnRpbWUpO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHJlbmRlckZyYW1lID0gKGdsLCBzdGF0ZSwgYXNwZWN0UmF0aW8pID0+IHtcclxuICBnbC52aWV3cG9ydCgwLCAwLCBnbC5jYW52YXMud2lkdGgsIGdsLmNhbnZhcy5oZWlnaHQpO1xyXG4gIGdsLmNsZWFyQ29sb3IoMS4wLCAxLjAsIDAuMCwgMS4wKTtcclxuICBnbC5jbGVhcihnbC5DT0xPUl9CVUZGRVJfQklUKTtcclxuXHJcbiAgYmluZE1hbmRlbGJyb3RQcm9ncmFtKGdsLCBzdGF0ZSwgYXNwZWN0UmF0aW8pO1xyXG5cclxuICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX1NUUklQLCAwLCA0KTtcclxufTtcclxuIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZVNsaWRlciA9IChpZCwgdmFsdWUsIG9uQ2hhbmdlKSA9PiB7XHJcbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcclxuXHJcbiAgaWYgKCFlbGVtZW50KSByZXR1cm47XHJcblxyXG4gIGNvbnN0IHVwZGF0ZVZhbHVlRGlzcGxheSA9IHRleHQgPT4ge1xyXG4gICAgY29uc3Qgc3BhbiA9IGVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwic3BhblwiKTtcclxuICAgIGlmIChzcGFuKSB7XHJcbiAgICAgIHNwYW4uaW5uZXJUZXh0ID0gdGV4dDtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBlbGVtZW50LnZhbHVlID0gdmFsdWU7XHJcblxyXG4gIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBldmVudCA9PiB7XHJcbiAgICB1cGRhdGVWYWx1ZURpc3BsYXkoZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZSk7XHJcblxyXG4gICAgaWYgKG9uQ2hhbmdlKSB7XHJcbiAgICAgIG9uQ2hhbmdlKGV2ZW50KTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgdXBkYXRlVmFsdWVEaXNwbGF5KHZhbHVlKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVUb2dnbGUgPSAoaWQsIHZhbHVlLCBvblRvZ2dsZSkgPT4ge1xyXG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XHJcblxyXG4gIGlmICghZWxlbWVudCkgcmV0dXJuO1xyXG5cclxuICBlbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoXCJ0b2dnbGVkXCIsIHZhbHVlKTtcclxuXHJcbiAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnQgPT4ge1xyXG4gICAgdmFsdWUgPSAhdmFsdWU7XHJcbiAgICBlbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoXCJ0b2dnbGVkXCIsIHZhbHVlKTtcclxuXHJcbiAgICBvblRvZ2dsZShldmVudCk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlQnV0dG9uID0gKGlkLCBvbkNsaWNrKSA9PiB7XHJcbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcclxuXHJcbiAgaWYgKCFlbGVtZW50KSByZXR1cm47XHJcblxyXG4gIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9uQ2xpY2spO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUNhbnZhc0ltYWdlID0gKHNlbGVjdG9yLCByZW5kZXJDYWxsYmFjaykgPT4ge1xyXG4gIGNvbnN0IGltZyA9IGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XHJcblxyXG4gIGlmICghaW1nKSByZXR1cm47XHJcblxyXG4gIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XHJcbiAgY2FudmFzLndpZHRoID0gMTUwO1xyXG4gIGNhbnZhcy5oZWlnaHQgPSAxNTA7XHJcblxyXG4gIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG5cclxuICByZW5kZXJDYWxsYmFjayhjb250ZXh0KTtcclxuXHJcbiAgaW1nLnNyYyA9IGNvbnRleHQuY2FudmFzLnRvRGF0YVVSTCgpO1xyXG5cclxuICBjYW52YXMucmVtb3ZlKCk7XHJcbn07XHJcbiIsImltcG9ydCAqIGFzIERvbWFpbiBmcm9tIFwiLi92aWV3XCI7XHJcbmltcG9ydCAqIGFzIEhlbHBlcnMgZnJvbSBcIi4vaGVscGVyc1wiO1xyXG5cclxuY29uc3Qgc2hhZGVUZXhlbCA9IChidWZmZXIsIGluZGV4LCBwaGFzZSkgPT4ge1xyXG4gIGJ1ZmZlcltpbmRleCArIDBdID0gKEhlbHBlcnMuY29zKHBoYXNlKSArIDEpICogMTI1O1xyXG4gIGJ1ZmZlcltpbmRleCArIDFdID0gKEhlbHBlcnMuc2luKHBoYXNlICsgTWF0aC5QSSkgKyAxKSAqIDEyNTtcclxuICBidWZmZXJbaW5kZXggKyAyXSA9IChIZWxwZXJzLnNpbihwaGFzZSkgKyAxKSAqIDEyNTtcclxuICBidWZmZXJbaW5kZXggKyAzXSA9IDI1NTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZW5lcmF0ZU1hbmRlbGJyb3QgPSAoXHJcbiAgYnVmZmVyLFxyXG4gIHdpZHRoLFxyXG4gIGhlaWdodCxcclxuICBzdGF0ZSxcclxuICBhc3BlY3RSYXRpb1xyXG4pID0+IHtcclxuICBjb25zdCB2aWV3ID0gc3RhdGUudmlldztcclxuICBjb25zdCBwaGFzZSA9IHN0YXRlLnRpbWU7XHJcbiAgY29uc3QgaXRlcmF0aW9ucyA9IHN0YXRlLml0ZXJhdGlvbnM7XHJcbiAgY29uc3QgZGl2ZXJnZW5jZSA9IHN0YXRlLmRpdmVyZ2VuY2U7XHJcblxyXG4gIGNvbnN0IGRvbWFpbldpZHRoID0gRG9tYWluLnpvb21XaWR0aCh2aWV3KSAqIGFzcGVjdFJhdGlvO1xyXG4gIGNvbnN0IGRvbWFpbkhlaWdodCA9IERvbWFpbi56b29tSGVpZ2h0KHZpZXcpO1xyXG5cclxuICBjb25zdCBkb21haW5MZWZ0ID0gdmlldy54IC0gZG9tYWluV2lkdGggKiAwLjU7XHJcbiAgY29uc3QgZG9tYWluVG9wID0gdmlldy55IC0gZG9tYWluSGVpZ2h0ICogMC41O1xyXG5cclxuICBjb25zdCBmYWN0b3JYID0gZG9tYWluV2lkdGggLyB3aWR0aDtcclxuICBjb25zdCBmYWN0b3JZID0gZG9tYWluSGVpZ2h0IC8gaGVpZ2h0O1xyXG5cclxuICBmb3IgKHZhciBrID0gMDsgayA8IHdpZHRoOyBrKyspIHtcclxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgaGVpZ2h0OyBqKyspIHtcclxuICAgICAgY29uc3QgeCA9IGsgKiBmYWN0b3JYICsgZG9tYWluTGVmdDtcclxuICAgICAgY29uc3QgeSA9IGogKiBmYWN0b3JZICsgZG9tYWluVG9wO1xyXG4gICAgICB2YXIgeiA9IDA7XHJcblxyXG4gICAgICB2YXIgQ09NUHggPSAwO1xyXG4gICAgICB2YXIgQ09NUHkgPSAwO1xyXG5cclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxOyBpICs9IDEgLyBpdGVyYXRpb25zKSB7XHJcbiAgICAgICAgY29uc3QgQ09NUHhfbmV3ID0gQ09NUHggKiBDT01QeCAtIENPTVB5ICogQ09NUHkgKyB4O1xyXG4gICAgICAgIGNvbnN0IENPTVB5X25ldyA9IDIuMCAqIENPTVB4ICogQ09NUHkgKyB5O1xyXG4gICAgICAgIGNvbnN0IHpOID0gQ09NUHhfbmV3ICsgQ09NUHlfbmV3O1xyXG5cclxuICAgICAgICBpZiAoTWF0aC5hYnMoek4gLSB6KSA+IGRpdmVyZ2VuY2UpIHtcclxuICAgICAgICAgIGNvbnN0IG9mZiA9IChqICogd2lkdGggKyBrKSAqIDQ7XHJcbiAgICAgICAgICBzaGFkZVRleGVsKGJ1ZmZlciwgb2ZmLCBpICogMTAgKyBwaGFzZSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIENPTVB4ID0gQ09NUHhfbmV3O1xyXG4gICAgICAgIENPTVB5ID0gQ09NUHlfbmV3O1xyXG4gICAgICAgIHogPSB6TjtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGJ1ZmZlcjtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVDb250ZXh0ID0gY2FudmFzID0+IHtcclxuICByZXR1cm4gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCByZW5kZXJGcmFtZSA9IChjb250ZXh0LCBzdGF0ZSwgYXNwZWN0UmF0aW8pID0+IHtcclxuICBjb25zdCB3aWR0aCA9IGNvbnRleHQuY2FudmFzLndpZHRoO1xyXG4gIGNvbnN0IGhlaWdodCA9IGNvbnRleHQuY2FudmFzLmhlaWdodDtcclxuXHJcbiAgY29udGV4dC5maWxsU3R5bGUgPSBcImJsYWNrXCI7XHJcbiAgY29udGV4dC5maWxsUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcclxuXHJcbiAgY29uc3QgaW1hZ2VEYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCk7XHJcblxyXG4gIGdlbmVyYXRlTWFuZGVsYnJvdChpbWFnZURhdGEuZGF0YSwgd2lkdGgsIGhlaWdodCwgc3RhdGUsIGFzcGVjdFJhdGlvKTtcclxuXHJcbiAgY29udGV4dC5wdXRJbWFnZURhdGEoaW1hZ2VEYXRhLCAwLCAwKTtcclxufTtcclxuIiwiaW1wb3J0IHN0YXRlIGZyb20gXCIuL3N0YXRlXCI7XHJcbmltcG9ydCAqIGFzIFZpZXcgZnJvbSBcIi4vdmlld1wiO1xyXG5pbXBvcnQgKiBhcyBXZWJHTCBmcm9tIFwiLi93ZWJnbFwiO1xyXG5pbXBvcnQgKiBhcyBVSSBmcm9tIFwiLi91aVwiO1xyXG5pbXBvcnQgKiBhcyBIZWxwZXJzIGZyb20gXCIuL2hlbHBlcnNcIjtcclxuaW1wb3J0ICogYXMgQ2FudmFzIGZyb20gXCIuL2NhbnZhc1wiO1xyXG5pbXBvcnQgXCIuL3N0eWxlcy5zY3NzXCI7XHJcblxyXG5sZXQgY29udGV4dCA9IG51bGw7XHJcblxyXG5jb25zdCBjdXJzb3JGcmFjWCA9IGV2ZW50ID0+IHtcclxuICByZXR1cm4gZXZlbnQuY2xpZW50WCAvIGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7XHJcbn07XHJcblxyXG5jb25zdCBjdXJzb3JGcmFjWSA9IGV2ZW50ID0+IHtcclxuICByZXR1cm4gZXZlbnQuY2xpZW50WSAvIGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0O1xyXG59O1xyXG5cclxuY29uc3QgYW5pbWF0ZVRvVmlldyA9ICh2aWV3RW5kLCBjYWxsYmFjaykgPT4ge1xyXG4gIGNvbnN0IERVUkFUSU9OID0gMC41O1xyXG4gIGNvbnN0IHZpZXdTdGFydCA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLnZpZXcpO1xyXG5cclxuICBpZiAoc3RhdGUuZmx5aW5nKSB7XHJcbiAgICBjbGVhclRpbWVvdXQoc3RhdGUuZmx5aW5nKTtcclxuICAgIHN0YXRlLmZseWluZyA9IHVuZGVmaW5lZDtcclxuICB9XHJcblxyXG4gIGNvbnN0IGl0ZXJhdGlvbiA9IHN0YXJ0VGltZSA9PiB7XHJcbiAgICBjb25zdCB0aW1lID0gTWF0aC5taW4oKERhdGUubm93KCkgLSBzdGFydFRpbWUpIC8gMTAwMCwgRFVSQVRJT04pO1xyXG4gICAgY29uc3QgZnJhYyA9IEhlbHBlcnMuZWFzZUluT3V0Q3ViaWModGltZSwgRFVSQVRJT04pO1xyXG5cclxuICAgIHN0YXRlLnZpZXcgPSBWaWV3LmludGVycG9sYXRlKHZpZXdTdGFydCwgdmlld0VuZCwgZnJhYyk7XHJcbiAgICBzdGF0ZS5mbHlpbmcgPVxyXG4gICAgICB0aW1lIDwgRFVSQVRJT04gPyBzZXRUaW1lb3V0KGl0ZXJhdGlvbiwgMTAsIHN0YXJ0VGltZSkgOiB1bmRlZmluZWQ7XHJcblxyXG4gICAgaWYgKCFzdGF0ZS5mbHlpbmcgJiYgY2FsbGJhY2spIHtcclxuICAgICAgY2FsbGJhY2soKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBzdGF0ZS5mbHlpbmcgPSBzZXRUaW1lb3V0KGl0ZXJhdGlvbiwgMCwgRGF0ZS5ub3coKSk7XHJcbn07XHJcblxyXG5jb25zdCBvbkNhbnZhc01vdXNlTW92ZSA9IGV2ZW50ID0+IHtcclxuICBpZiAoZXZlbnQuYnV0dG9ucyA+IDApIHtcclxuICAgIGNvbnN0IGR4ID0gLWV2ZW50Lm1vdmVtZW50WCAvIGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7XHJcbiAgICBjb25zdCBkeSA9IC1ldmVudC5tb3ZlbWVudFkgLyBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodDtcclxuXHJcbiAgICBzdGF0ZS52aWV3ID0gVmlldy50cmFuc2xhdGUoc3RhdGUudmlldywgZHgsIGR5LCBWaWV3LmFzcGVjdFJhdGlvKCkpO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IG9uQ2FudmFzTW91c2VXaGVlbCA9IGV2ZW50ID0+IHtcclxuICBjb25zdCB4ID0gY3Vyc29yRnJhY1goZXZlbnQpO1xyXG4gIGNvbnN0IHkgPSBjdXJzb3JGcmFjWShldmVudCk7XHJcbiAgY29uc3Qgc2NhbGUgPSBldmVudC53aGVlbERlbHRhWSA+IDAgPyAwLjc1IDogMS4yNTtcclxuXHJcbiAgYW5pbWF0ZVRvVmlldyhWaWV3Lnpvb20oc3RhdGUudmlldywgeCwgeSwgc2NhbGUsIFZpZXcuYXNwZWN0UmF0aW8oKSkpO1xyXG59O1xyXG5cclxuY29uc3Qgb25DYW52YXNEb3VibGVDbGljayA9IGV2ZW50ID0+IHtcclxuICBjb25zdCB4ID0gY3Vyc29yRnJhY1goZXZlbnQpO1xyXG4gIGNvbnN0IHkgPSBjdXJzb3JGcmFjWShldmVudCk7XHJcbiAgY29uc3Qgc2NhbGUgPSAwLjE7XHJcblxyXG4gIGFuaW1hdGVUb1ZpZXcoVmlldy56b29tKHN0YXRlLnZpZXcsIHgsIHksIHNjYWxlLCBWaWV3LmFzcGVjdFJhdGlvKCkpKTtcclxufTtcclxuXHJcbmNvbnN0IG9uUmVuZGVyRnJhbWUgPSAoKSA9PiB7XHJcbiAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImNhbnZhc1wiKTtcclxuICBjb25zdCB3aWR0aCA9IHBhcnNlSW50KGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGggKiBzdGF0ZS5yZXNvbHV0aW9uKTtcclxuICBjb25zdCBoZWlnaHQgPSBwYXJzZUludChkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCAqIHN0YXRlLnJlc29sdXRpb24pO1xyXG5cclxuICBpZiAoY2FudmFzLndpZHRoICE9PSB3aWR0aCkge1xyXG4gICAgY2FudmFzLndpZHRoID0gd2lkdGg7XHJcbiAgfVxyXG5cclxuICBpZiAoY2FudmFzLmhlaWdodCAhPT0gaGVpZ2h0KSB7XHJcbiAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gIH1cclxuICBpZiAoc3RhdGUud2ViZ2wpIHtcclxuICAgIFdlYkdMLnJlbmRlckZyYW1lKGNvbnRleHQsIHN0YXRlLCBWaWV3LmFzcGVjdFJhdGlvKCkpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBDYW52YXMucmVuZGVyRnJhbWUoY29udGV4dCwgc3RhdGUsIFZpZXcuYXNwZWN0UmF0aW8oKSk7XHJcbiAgfVxyXG5cclxuICBpZiAoc3RhdGUuYW5pbWF0ZSkge1xyXG4gICAgc3RhdGUudGltZSA9IChEYXRlLm5vdygpIC8gMTAwMC4wKSAlIDEwMDA7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3Qgb25SZXNldCA9ICgpID0+IHtcclxuICBhbmltYXRlVG9WaWV3KFZpZXcuaWRlbnRpdHkoKSk7XHJcbn07XHJcblxyXG5jb25zdCBvbkNoYW5nZVJlc291bHRpb24gPSBldmVudCA9PiB7XHJcbiAgc3RhdGUucmVzb2x1dGlvbiA9IHBhcnNlRmxvYXQoZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZSk7XHJcbn07XHJcblxyXG5jb25zdCBvbkNoYW5nZUl0ZXJhdGlvbnMgPSBldmVudCA9PiB7XHJcbiAgc3RhdGUuaXRlcmF0aW9ucyA9IHBhcnNlSW50KGV2ZW50LmN1cnJlbnRUYXJnZXQudmFsdWUpO1xyXG5cclxuICBpZiAoc3RhdGUud2ViZ2wpIHtcclxuICAgIGxvYWRDYW52YXMoc3RhdGUud2ViZ2wpO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IG9uQ2hhbmdlRGl2ZXJnZW5jZSA9IGV2ZW50ID0+IHtcclxuICBzdGF0ZS5kaXZlcmdlbmNlID0gcGFyc2VJbnQoZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZSk7XHJcblxyXG4gIGlmIChzdGF0ZS53ZWJnbCkge1xyXG4gICAgbG9hZENhbnZhcyhzdGF0ZS53ZWJnbCk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3Qgb25BbmltYXRlVG9nZ2xlID0gKCkgPT4ge1xyXG4gIHN0YXRlLmFuaW1hdGUgPSAhc3RhdGUuYW5pbWF0ZTtcclxufTtcclxuXHJcbmNvbnN0IG9uVG9nZ2xlTW9kZSA9ICgpID0+IHtcclxuICBzdGF0ZS53ZWJnbCA9ICFzdGF0ZS53ZWJnbDtcclxuXHJcbiAgbG9hZENhbnZhcyhzdGF0ZS53ZWJnbCk7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVJbWFnZSA9IChpZCwgdmlldykgPT4ge1xyXG4gIFVJLmNyZWF0ZUNhbnZhc0ltYWdlKGAjJHtpZH0gaW1nYCwgY29udGV4dCA9PiB7XHJcbiAgICBDYW52YXMucmVuZGVyRnJhbWUoXHJcbiAgICAgIGNvbnRleHQsXHJcbiAgICAgIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XHJcbiAgICAgICAgdmlld1xyXG4gICAgICB9KSxcclxuICAgICAgMVxyXG4gICAgKTtcclxuICB9KTtcclxuXHJcbiAgVUkuY3JlYXRlQnV0dG9uKGlkLCAoKSA9PiB7XHJcbiAgICBpZiAoVmlldy5pc0lkZW50aXR5KHN0YXRlLnZpZXcpKSB7XHJcbiAgICAgIGFuaW1hdGVUb1ZpZXcodmlldyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhbmltYXRlVG9WaWV3KFZpZXcuaWRlbnRpdHkoKSwgKCkgPT4gYW5pbWF0ZVRvVmlldyh2aWV3KSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn07XHJcblxyXG5jb25zdCBvbkluaXQgPSAoKSA9PiB7XHJcbiAgVUkuY3JlYXRlQnV0dG9uKFwicmVzZXRcIiwgb25SZXNldCk7XHJcblxyXG4gIFVJLmNyZWF0ZVRvZ2dsZShcImFuaW1hdGVcIiwgc3RhdGUuYW5pbWF0ZSwgb25BbmltYXRlVG9nZ2xlKTtcclxuICBVSS5jcmVhdGVUb2dnbGUoXCJtb2RlXCIsIHN0YXRlLndlYmdsLCBvblRvZ2dsZU1vZGUpO1xyXG5cclxuICBVSS5jcmVhdGVTbGlkZXIoXCJyZXNvbHV0aW9uXCIsIHN0YXRlLnJlc29sdXRpb24sIG9uQ2hhbmdlUmVzb3VsdGlvbik7XHJcbiAgVUkuY3JlYXRlU2xpZGVyKFwiaXRlcmF0aW9uc1wiLCBzdGF0ZS5pdGVyYXRpb25zLCBvbkNoYW5nZUl0ZXJhdGlvbnMpO1xyXG4gIFVJLmNyZWF0ZVNsaWRlcihcImRpdmVyZ2VuY2VcIiwgc3RhdGUuZGl2ZXJnZW5jZSwgb25DaGFuZ2VEaXZlcmdlbmNlKTtcclxuXHJcbiAgbG9hZENhbnZhcyhzdGF0ZS53ZWJnbCk7XHJcblxyXG4gIGNyZWF0ZUltYWdlKFwiZGVzdDBcIiwge1xyXG4gICAgeDogLTAuODAzNjI4NDQwMjgzNDM3NSxcclxuICAgIHk6IDAuMTgyNTI3NjQwMDkyNDU2MDMsXHJcbiAgICB6b29tOiAwLjAwMTcxNjg4NzQxODQ2ODc0NzZcclxuICB9KTtcclxuICBjcmVhdGVJbWFnZShcImRlc3QxXCIsIHtcclxuICAgIHg6IC0xLjE5NTg1Mjg3ODQ2NDgxOSxcclxuICAgIHk6IC0wLjMxMjYwMTI3OTMxNzY5NzE2LFxyXG4gICAgem9vbTogMC4wMjk5OTk5OTk5OTk5OTk5N1xyXG4gIH0pO1xyXG4gIGNyZWF0ZUltYWdlKFwiZGVzdDJcIiwge1xyXG4gICAgeDogMC4yODc3MzM1OTY5MTM3NzUwNCxcclxuICAgIHk6IDAuMDExNTY5NDY3NzM4MjI3NDY3LFxyXG4gICAgem9vbTogMC4wMDEwMDQ3NDE5NzUyNTkwNzE0XHJcbiAgfSk7XHJcbiAgY3JlYXRlSW1hZ2UoXCJkZXN0M1wiLCB7XHJcbiAgICB4OiAtMC41NjU4Mjg3NTk5NDgzMjIzLFxyXG4gICAgeTogMC41NjUzNzIzNTYxNTA1NjU0LFxyXG4gICAgem9vbTogMC4wNTc0NTMzNDA3NTcyOTU4ODRcclxuICB9KTtcclxuXHJcbiAgY29uc3Qgb25SZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSAoKSA9PiB7XHJcbiAgICBvblJlbmRlckZyYW1lKCk7XHJcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUob25SZXF1ZXN0QW5pbWF0aW9uRnJhbWUpO1xyXG4gIH07XHJcblxyXG4gIG9uUmVxdWVzdEFuaW1hdGlvbkZyYW1lKCk7XHJcbn07XHJcblxyXG5jb25zdCBsb2FkQ2FudmFzID0gaXNXZWJHTCA9PiB7XHJcbiAgZm9yIChjb25zdCBub2RlIG9mIGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvckFsbChcImNhbnZhc1wiKSkge1xyXG4gICAgbm9kZS5yZW1vdmUoKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XHJcbiAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgb25DYW52YXNNb3VzZU1vdmUpO1xyXG4gIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V3aGVlbFwiLCBvbkNhbnZhc01vdXNlV2hlZWwpO1xyXG4gIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwiZGJsY2xpY2tcIiwgb25DYW52YXNEb3VibGVDbGljayk7XHJcbiAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJjb250ZXh0bWVudVwiLCBldmVudCA9PiBldmVudC5wcmV2ZW50RGVmYXVsdCgpKTtcclxuXHJcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjYW52YXMpO1xyXG5cclxuICBpZiAoaXNXZWJHTCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29udGV4dCA9IFdlYkdMLmNyZWF0ZUNvbnRleHQoY2FudmFzLCBzdGF0ZS5pdGVyYXRpb25zKTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgIHN0YXRlLndlYmdsID0gZmFsc2U7XHJcbiAgICAgIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICBjb250ZXh0ID0gQ2FudmFzLmNyZWF0ZUNvbnRleHQoY2FudmFzKTtcclxuICB9XHJcbn07XHJcblxyXG5vbkluaXQoKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBvbkluaXQsXHJcbiAgb25SZW5kZXJGcmFtZSxcclxuICBvbkNhbnZhc01vdXNlTW92ZSxcclxuICBvbkNhbnZhc01vdXNlV2hlZWwsXHJcbiAgb25DYW52YXNEb3VibGVDbGljayxcclxuICBhbmltYXRlVG9WaWV3LFxyXG4gIG9uUmVzZXQsXHJcbiAgb25BbmltYXRlVG9nZ2xlLFxyXG4gIG9uVG9nZ2xlTW9kZSxcclxuICBvbkNoYW5nZVJlc291bHRpb24sXHJcbiAgb25DaGFuZ2VJdGVyYXRpb25zXHJcbn07XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=